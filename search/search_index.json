{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\u4f7f\u7528 Vensi MQTT SDK \u00b6 SDK \u6982\u8ff0 \u00b6 \u5f00\u53d1\u8005\u7ee7\u627f Vensi MQTT SDK \u5230\u5176\u5e94\u7528\u4e2d\uff0c\u901a\u8fc7\u8c03\u7528 Mqtt \u76f8\u5173\u7684\u8fde\u63a5\u65b9\u6cd5\uff0c\u521b\u5efa\u4e0e\u7f51\u5173\u7684\u957f\u8fde\u63a5\uff0c\u4e3a App \u63d0\u4f9b\u63a7\u5236\u667a\u80fd\u7f51\u5173\u53ca\u5176\u4e2d\u667a\u80fd\u8bbe\u5907\u7684\u80fd\u529b\u3002\u529f\u80fd\u4e3b\u8981\u5305\u62ec\u4e86\u7f51\u5173\u7ba1\u7406\u548c\u8bbe\u5907\u7ba1\u7406\u3002 SDK \u4e0e\u7f51\u5173\u8fde\u63a5\u4f7f\u7528\u4e86 MQTT \u76f8\u5173\u6280\u672f\uff0c\u5982\u679c\u5bf9 MQTT \u534f\u8bae\u4e0d\u719f\u6089\uff0c\u53ef\u4ee5\u67e5\u770b\u76f8\u5173\u7684 \u6587\u6863 \u7f51\u5173\u7ba1\u7406 \u00b6 \u7f51\u5173\u8fde\u63a5 \u7f51\u5173\u6ce8\u518c \u7f51\u5173\u767b\u5f55 \u7f51\u5173\u79fb\u9664 \u7528\u6237\u7ba1\u7406 \u56fa\u4ef6\u5347\u7ea7\u7b49 \u8bbe\u5907\u7ba1\u7406 \u00b6 \u8bbe\u5907\u5165\u7f51\uff0c\u79bb\u7f51 \u8bbe\u5907\u5c5e\u6027\u4fee\u6539\uff08\u540d\u79f0\u4fee\u6539\uff09 \u8bbe\u5907\u63a7\u5236\uff0c\u72b6\u6001\u76d1\u542c \u533a\u57df\u521b\u5efa\u3001\u4fee\u6539\uff0c\u8bbe\u5907\u5206\u914d\u8fdb\u5165\u533a\u57df \u60c5\u666f\u521b\u5efa\u3001\u4fee\u6539 \u81ea\u52a8\u521b\u5efa\u3001\u4fee\u6539","title":"\u5165\u95e8\u6307\u5357"},{"location":"#vensi-mqtt-sdk","text":"","title":"\u6b22\u8fce\u4f7f\u7528 Vensi MQTT SDK"},{"location":"#sdk","text":"\u5f00\u53d1\u8005\u7ee7\u627f Vensi MQTT SDK \u5230\u5176\u5e94\u7528\u4e2d\uff0c\u901a\u8fc7\u8c03\u7528 Mqtt \u76f8\u5173\u7684\u8fde\u63a5\u65b9\u6cd5\uff0c\u521b\u5efa\u4e0e\u7f51\u5173\u7684\u957f\u8fde\u63a5\uff0c\u4e3a App \u63d0\u4f9b\u63a7\u5236\u667a\u80fd\u7f51\u5173\u53ca\u5176\u4e2d\u667a\u80fd\u8bbe\u5907\u7684\u80fd\u529b\u3002\u529f\u80fd\u4e3b\u8981\u5305\u62ec\u4e86\u7f51\u5173\u7ba1\u7406\u548c\u8bbe\u5907\u7ba1\u7406\u3002 SDK \u4e0e\u7f51\u5173\u8fde\u63a5\u4f7f\u7528\u4e86 MQTT \u76f8\u5173\u6280\u672f\uff0c\u5982\u679c\u5bf9 MQTT \u534f\u8bae\u4e0d\u719f\u6089\uff0c\u53ef\u4ee5\u67e5\u770b\u76f8\u5173\u7684 \u6587\u6863","title":"SDK \u6982\u8ff0"},{"location":"#_1","text":"\u7f51\u5173\u8fde\u63a5 \u7f51\u5173\u6ce8\u518c \u7f51\u5173\u767b\u5f55 \u7f51\u5173\u79fb\u9664 \u7528\u6237\u7ba1\u7406 \u56fa\u4ef6\u5347\u7ea7\u7b49","title":"\u7f51\u5173\u7ba1\u7406"},{"location":"#_2","text":"\u8bbe\u5907\u5165\u7f51\uff0c\u79bb\u7f51 \u8bbe\u5907\u5c5e\u6027\u4fee\u6539\uff08\u540d\u79f0\u4fee\u6539\uff09 \u8bbe\u5907\u63a7\u5236\uff0c\u72b6\u6001\u76d1\u542c \u533a\u57df\u521b\u5efa\u3001\u4fee\u6539\uff0c\u8bbe\u5907\u5206\u914d\u8fdb\u5165\u533a\u57df \u60c5\u666f\u521b\u5efa\u3001\u4fee\u6539 \u81ea\u52a8\u521b\u5efa\u3001\u4fee\u6539","title":"\u8bbe\u5907\u7ba1\u7406"},{"location":"Android/Android/","text":"Android SDK \u6982\u8ff0 \u00b6 Android SDK \u901a\u8fc7\u4f7f\u7528 eclipse/paho.mqtt.java \u3001 eclipse/paho.mqtt.android \u7b49 MQTT \u5e93\u63d0\u4f9b\u4e0e\u667a\u80fd\u7f51\u5173\u7684\u8fde\u63a5\u80fd\u529b\uff0c\u5e76\u4e14\u63d0\u4f9b\u5bf9\u7f51\u5173\u534f\u8bae\u7684\u89e3\u6790\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u8fc5\u901f\u63a5\u5165\u5e76\u5b9e\u73b0\u667a\u80fd\u8bbe\u5907\u63a7\u5236\u3002 \u652f\u6301\u7684 Android \u7cfb\u7edf\u7248\u672c \u00b6 \u76ee\u524d SDK \u53ea\u652f\u6301 Android 4.4 \u6216\u4ee5\u4e0a\u7684\u624b\u673a\u7cfb\u7edf\u3002 \u96c6\u6210\u6b65\u9aa4 \u00b6 \u67e5\u770b SDK \u538b\u7f29\u5305\u4e2d\u5185\u5bb9 \u00b6 Vensi MQTT SDK \u6838\u5fc3\u5305 libs/vensi-mqtt-sdk-proguard.jar MQTT \u8fde\u63a5\u80fd\u529b\u5305 libs/vensi-mqtt-service-java-proguard.jar MQTT \u8fde\u63a5\u80fd\u529b\u5305\uff08\u5305\u542b Android \u5b9e\u73b0\uff09 libs/vensi-mqtt-service-android-release.aar SDK \u6587\u4ef6\u79fb\u690d \u00b6 \u590d\u5236 libs/vensi-mqtt-sdk-proguard.jar \u548c libs/vensi-mqtt-service-java-proguard.jar \u5230\u5de5\u7a0b libs/ \u76ee\u5f55\u4e0b \u8bf4\u660e\uff1aAndroid \u5e73\u53f0\u5efa\u8bae\u96c6\u6210 libs/vensi-mqtt-service-android-release.aar \u5305\uff0c\u8fd9\u65f6\u5c31\u4e0d\u9700\u8981\u96c6\u6210 libs/vensi-mqtt-service-java-proguard.jar\u3002AAR \u5305\u7684\u96c6\u6210\u8bf7\u81ea\u884c\u67e5\u627e\u76f8\u5173\u6559\u7a0b\u3002 \u5728 app/build.gradle \u4e2d\u6dfb\u52a0 dependencies { implementation files ( 'libs/vensi-mqtt-sdk-proguard.jar' ) implementation files ( 'libs/vensi-mqtt-service-java-proguard.jar' ) implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.5' implementation 'com.google.code.gson:gson:2.8.6' } \u8bf4\u660e\uff1aorg.eclipse.paho.client.mqttv3 \u548c gson \u7248\u672c\u53ef\u4ee5\u4fee\u6539\u5176\u6700\u65b0\u7248\u672c\uff0c\u4f46\u4e0d\u80fd\u5c0f\u4e8e\u4e0a\u9762\u7684\u7248\u672c \u914d\u7f6e AndroidManifest.xml \u00b6 \u8bbe\u7f6e\u76f8\u5173\u7684\u6743\u9650 <!--AndroidManifest.xml--> // \u5141\u8bb8\u5e94\u7528\u53ef\u4ee5\u8bbf\u95ee\u7f51\u7edc\u3002 <uses-permission android:name= \"android.permission.INTERNET\" /> // \u5141\u8bb8\u5e94\u7528\u83b7\u53d6\u7f51\u7edc\u4fe1\u606f\u72b6\u6001\uff0c\u5982\u5f53\u524d\u7684\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6709\u6548\u3002 <uses-permission android:name= \"android.permission.ACCESS_NETWORK_STATE\" /> \u6dfb\u52a0\u4ee3\u7801 \u00b6 \u521d\u59cb\u5316 \u00b6 // \u662f\u5426\u5f00\u542f debug \u6a21\u5f0f VensiMqtt . getInstance (). setDebug ( true ); // \u7528\u6237\u540d\u79f0\uff0c\u4fdd\u6301\u552f\u4e00 VensiMqtt . getInstance (). setUserId ( userId ); // \u516c\u53f8\u6807\u8bc6\uff08\u7f51\u5173\u6807\u8bc6\uff09 VensiMqtt . getInstance (). setCompany ( company ); // \u8bbe\u7f6e\u7528\u6237 OS \u663e\u793a VensiMqtt . getInstance (). setOs ( Build . MODEL ); // \u8bbe\u7f6e\u8bf7\u6c42\u56de\u8c03\u7ebf\u7a0b Handler Handler = new Handler ( Looper . getMainLooper ()); VensiMqtt . getInstance (). setMqttMessageThreadHandler ( new IMqttMessageThreadHandler () { @Override public void execute ( Runnable runnable ) { Handler . post ( runnable ); } }); // \u8bbe\u5907\u57fa\u7840\u914d\u7f6e\u6587\u4ef6\u7f13\u5b58\u8def\u5f84 VensiMqtt . getInstance (). initDeviceTypeUtils ( context . getFilesDir (). getAbsolutePath ()); // \u52a0\u8f7d\u8bbe\u5907\u57fa\u7840\u914d\u7f6e\u6587\u4ef6 DeviceTypeUtils . getInstant (). loadConfigFromAssetsFileWithResult (); \u521b\u5efa MQTT \u8fde\u63a5 \u00b6 // \u521b\u5efa\u8fde\u63a5\u53c2\u6570 ConnectOption connectOption = new ConnectOption (); // \u8bbe\u7f6e\u8fde\u63a5ip\u6216\u57df\u540d\uff08\u4f8b\u5982\uff1a\u7f51\u5173\u5728\u5c40\u57df\u7f51\u4e2d\u7684 192.168.1.188:1883) connectOption . setServerUri ( ip ); // \u521b\u5efa\u8fde\u63a5\u670d\u52a1\uff0c\u5e76\u4f20\u5165\u8fde\u63a5\u53c2\u6570 IMqttService service = new JavaMqttService ( connectOption ); // \u5f00\u59cb\u8fde\u63a5 VensiMqtt . getInstance (). connectMainServer ( service , new OnMqttStateChangedListener () { @Override public void onStateChanged ( String serverIp , int statue , Throwable case ) { switch ( state ) { case MqttStateCode . MQTT_STATE_INIT : // \u521d\u59cb\u5316\u4e2d break ; case MqttStateCode . MQTT_STATE_CONNECTING : // \u6b63\u5728\u8fde\u63a5\u670d\u52a1\u5668 break ; case MqttStateCode . MQTT_STATE_CONNECTED : // \u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f break ; case MqttStateCode . MQTT_STATE_CONNECT_FAILURE : // \u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25 break ; case MqttStateCode . MQTT_STATE_CONNECT_LOST : // \u4e0e\u670d\u52a1\u5668\u65ad\u5f00\u8fde\u63a5 break ; case MqttStateCode . MQTT_STATE_CONNECT_LOST_INITIATIVE : // \u624b\u52a8\u65ad\u5f00\u8fde\u63a5 break ; } } }); \u6ce8\u518c\u7f51\u5173\u6216\u767b\u5f55\u7f51\u5173 \u00b6 \u5728\u8fde\u63a5 MQTT \u6210\u529f\u540e\uff0c\u53ef\u4ee5\u8fdb\u884c\u6ce8\u518c\u7f51\u5173->\u767b\u5f55\u7f51\u5173->\u83b7\u53d6\u767b\u5f55\u540e\u7684 sessionId\u3002 \u5982\u679c\u5df2\u7ecf\u8fdb\u884c\u8fc7\u4e00\u6b21\u6ce8\u518c\u7f51\u5173\uff08\u67e5\u770b\u7f51\u5173\u529f\u80fd\u76f8\u5173\u8bf4\u660e\uff09\uff0c\u540e\u9762\u53ea\u9700\u8981\u8fdb\u884c\u767b\u5f55\u7f51\u5173\u7684\u64cd\u4f5c\u3002 // \u6ce8\u518c\u7f51\u5173 HostApi . register ( hostId , \"123456\" , new IBaseCallback < HostRegister . Recv > () { @Override public void onSuccess ( HostRegister . Recv recv , int callBackMark , String errorCode ) { if ( \"10017\" . equals ( errorCode )) { toast ( \"\u7b49\u5f85\u7f51\u5173\u7ba1\u7406\u5458\u540c\u610f\" ); } else if ( \"10001\" . equals ( errorCode )) { String sspen = recv . getSspen (); if ( \"1\" . equals ( sspen )) { toast ( \"\u5df2\u6ce8\u518c\u7f51\u5173, \u5e76\u4e14\u5df2\u6388\u6743\" ); } else { toast ( \"\u5df2\u6ce8\u518c\u7f51\u5173, \u4f46\u7ba1\u7406\u5458\u672a\u6388\u6743\" ); } } else { toast ( \"\u6ce8\u518c\u7f51\u5173\u6210\u529f\" ); } } @Override public void onFailure ( int callBackMark , String errorCode ) { if ( \"10026\" . equals ( errorCode )) { toast ( \"\u7f51\u5173\u6807\u8bc6\u9519\u8bef\" ); } else { toast ( \"\u6ce8\u518c\u7f51\u5173\u5931\u8d25 \" + errorCode ); } } }); // \u767b\u5f55\u7f51\u5173 HostApi . login ( hostId , \"123456\" , new IBaseCallback < HostLogin . Recv > () { @Override public void onSuccess ( HostLogin . Recv recv , int callBackMark , String errorCode ) { VensiMqtt . getInstance (). setMainHost ( recv . getHostId ()); toast ( \"\u767b\u5f55\u7f51\u5173\u6210\u529f \" + recv . getSessionId ()); } @Override public void onFailure ( int callBackMark , String errorCode ) { if ( \"10002\" . equals ( errorCode )) { toast ( \"\u5bc6\u7801\u9519\u8bef\" ); } else if ( \"10025\" . equals ( errorCode )) { toast ( \"\u7b49\u5f85\u7f51\u5173\u7ba1\u7406\u5458\u540c\u610f\" ); } else { toast ( \"\u6ce8\u518c\u7f51\u5173\u5931\u8d25 \" + errorCode ); } } });","title":"Android SDK \u96c6\u6210\u6307\u5357"},{"location":"Android/Android/#android-sdk","text":"Android SDK \u901a\u8fc7\u4f7f\u7528 eclipse/paho.mqtt.java \u3001 eclipse/paho.mqtt.android \u7b49 MQTT \u5e93\u63d0\u4f9b\u4e0e\u667a\u80fd\u7f51\u5173\u7684\u8fde\u63a5\u80fd\u529b\uff0c\u5e76\u4e14\u63d0\u4f9b\u5bf9\u7f51\u5173\u534f\u8bae\u7684\u89e3\u6790\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u8fc5\u901f\u63a5\u5165\u5e76\u5b9e\u73b0\u667a\u80fd\u8bbe\u5907\u63a7\u5236\u3002","title":"Android SDK \u6982\u8ff0"},{"location":"Android/Android/#android","text":"\u76ee\u524d SDK \u53ea\u652f\u6301 Android 4.4 \u6216\u4ee5\u4e0a\u7684\u624b\u673a\u7cfb\u7edf\u3002","title":"\u652f\u6301\u7684 Android \u7cfb\u7edf\u7248\u672c"},{"location":"Android/Android/#_1","text":"","title":"\u96c6\u6210\u6b65\u9aa4"},{"location":"Android/Android/#sdk","text":"Vensi MQTT SDK \u6838\u5fc3\u5305 libs/vensi-mqtt-sdk-proguard.jar MQTT \u8fde\u63a5\u80fd\u529b\u5305 libs/vensi-mqtt-service-java-proguard.jar MQTT \u8fde\u63a5\u80fd\u529b\u5305\uff08\u5305\u542b Android \u5b9e\u73b0\uff09 libs/vensi-mqtt-service-android-release.aar","title":"\u67e5\u770b SDK \u538b\u7f29\u5305\u4e2d\u5185\u5bb9"},{"location":"Android/Android/#sdk_1","text":"\u590d\u5236 libs/vensi-mqtt-sdk-proguard.jar \u548c libs/vensi-mqtt-service-java-proguard.jar \u5230\u5de5\u7a0b libs/ \u76ee\u5f55\u4e0b \u8bf4\u660e\uff1aAndroid \u5e73\u53f0\u5efa\u8bae\u96c6\u6210 libs/vensi-mqtt-service-android-release.aar \u5305\uff0c\u8fd9\u65f6\u5c31\u4e0d\u9700\u8981\u96c6\u6210 libs/vensi-mqtt-service-java-proguard.jar\u3002AAR \u5305\u7684\u96c6\u6210\u8bf7\u81ea\u884c\u67e5\u627e\u76f8\u5173\u6559\u7a0b\u3002 \u5728 app/build.gradle \u4e2d\u6dfb\u52a0 dependencies { implementation files ( 'libs/vensi-mqtt-sdk-proguard.jar' ) implementation files ( 'libs/vensi-mqtt-service-java-proguard.jar' ) implementation 'org.eclipse.paho:org.eclipse.paho.client.mqttv3:1.2.5' implementation 'com.google.code.gson:gson:2.8.6' } \u8bf4\u660e\uff1aorg.eclipse.paho.client.mqttv3 \u548c gson \u7248\u672c\u53ef\u4ee5\u4fee\u6539\u5176\u6700\u65b0\u7248\u672c\uff0c\u4f46\u4e0d\u80fd\u5c0f\u4e8e\u4e0a\u9762\u7684\u7248\u672c","title":"SDK \u6587\u4ef6\u79fb\u690d"},{"location":"Android/Android/#androidmanifestxml","text":"\u8bbe\u7f6e\u76f8\u5173\u7684\u6743\u9650 <!--AndroidManifest.xml--> // \u5141\u8bb8\u5e94\u7528\u53ef\u4ee5\u8bbf\u95ee\u7f51\u7edc\u3002 <uses-permission android:name= \"android.permission.INTERNET\" /> // \u5141\u8bb8\u5e94\u7528\u83b7\u53d6\u7f51\u7edc\u4fe1\u606f\u72b6\u6001\uff0c\u5982\u5f53\u524d\u7684\u7f51\u7edc\u8fde\u63a5\u662f\u5426\u6709\u6548\u3002 <uses-permission android:name= \"android.permission.ACCESS_NETWORK_STATE\" />","title":"\u914d\u7f6e AndroidManifest.xml"},{"location":"Android/Android/#_2","text":"","title":"\u6dfb\u52a0\u4ee3\u7801"},{"location":"Android/Android/#_3","text":"// \u662f\u5426\u5f00\u542f debug \u6a21\u5f0f VensiMqtt . getInstance (). setDebug ( true ); // \u7528\u6237\u540d\u79f0\uff0c\u4fdd\u6301\u552f\u4e00 VensiMqtt . getInstance (). setUserId ( userId ); // \u516c\u53f8\u6807\u8bc6\uff08\u7f51\u5173\u6807\u8bc6\uff09 VensiMqtt . getInstance (). setCompany ( company ); // \u8bbe\u7f6e\u7528\u6237 OS \u663e\u793a VensiMqtt . getInstance (). setOs ( Build . MODEL ); // \u8bbe\u7f6e\u8bf7\u6c42\u56de\u8c03\u7ebf\u7a0b Handler Handler = new Handler ( Looper . getMainLooper ()); VensiMqtt . getInstance (). setMqttMessageThreadHandler ( new IMqttMessageThreadHandler () { @Override public void execute ( Runnable runnable ) { Handler . post ( runnable ); } }); // \u8bbe\u5907\u57fa\u7840\u914d\u7f6e\u6587\u4ef6\u7f13\u5b58\u8def\u5f84 VensiMqtt . getInstance (). initDeviceTypeUtils ( context . getFilesDir (). getAbsolutePath ()); // \u52a0\u8f7d\u8bbe\u5907\u57fa\u7840\u914d\u7f6e\u6587\u4ef6 DeviceTypeUtils . getInstant (). loadConfigFromAssetsFileWithResult ();","title":"\u521d\u59cb\u5316"},{"location":"Android/Android/#mqtt","text":"// \u521b\u5efa\u8fde\u63a5\u53c2\u6570 ConnectOption connectOption = new ConnectOption (); // \u8bbe\u7f6e\u8fde\u63a5ip\u6216\u57df\u540d\uff08\u4f8b\u5982\uff1a\u7f51\u5173\u5728\u5c40\u57df\u7f51\u4e2d\u7684 192.168.1.188:1883) connectOption . setServerUri ( ip ); // \u521b\u5efa\u8fde\u63a5\u670d\u52a1\uff0c\u5e76\u4f20\u5165\u8fde\u63a5\u53c2\u6570 IMqttService service = new JavaMqttService ( connectOption ); // \u5f00\u59cb\u8fde\u63a5 VensiMqtt . getInstance (). connectMainServer ( service , new OnMqttStateChangedListener () { @Override public void onStateChanged ( String serverIp , int statue , Throwable case ) { switch ( state ) { case MqttStateCode . MQTT_STATE_INIT : // \u521d\u59cb\u5316\u4e2d break ; case MqttStateCode . MQTT_STATE_CONNECTING : // \u6b63\u5728\u8fde\u63a5\u670d\u52a1\u5668 break ; case MqttStateCode . MQTT_STATE_CONNECTED : // \u8fde\u63a5\u670d\u52a1\u5668\u6210\u529f break ; case MqttStateCode . MQTT_STATE_CONNECT_FAILURE : // \u8fde\u63a5\u670d\u52a1\u5668\u5931\u8d25 break ; case MqttStateCode . MQTT_STATE_CONNECT_LOST : // \u4e0e\u670d\u52a1\u5668\u65ad\u5f00\u8fde\u63a5 break ; case MqttStateCode . MQTT_STATE_CONNECT_LOST_INITIATIVE : // \u624b\u52a8\u65ad\u5f00\u8fde\u63a5 break ; } } });","title":"\u521b\u5efa MQTT \u8fde\u63a5"},{"location":"Android/Android/#_4","text":"\u5728\u8fde\u63a5 MQTT \u6210\u529f\u540e\uff0c\u53ef\u4ee5\u8fdb\u884c\u6ce8\u518c\u7f51\u5173->\u767b\u5f55\u7f51\u5173->\u83b7\u53d6\u767b\u5f55\u540e\u7684 sessionId\u3002 \u5982\u679c\u5df2\u7ecf\u8fdb\u884c\u8fc7\u4e00\u6b21\u6ce8\u518c\u7f51\u5173\uff08\u67e5\u770b\u7f51\u5173\u529f\u80fd\u76f8\u5173\u8bf4\u660e\uff09\uff0c\u540e\u9762\u53ea\u9700\u8981\u8fdb\u884c\u767b\u5f55\u7f51\u5173\u7684\u64cd\u4f5c\u3002 // \u6ce8\u518c\u7f51\u5173 HostApi . register ( hostId , \"123456\" , new IBaseCallback < HostRegister . Recv > () { @Override public void onSuccess ( HostRegister . Recv recv , int callBackMark , String errorCode ) { if ( \"10017\" . equals ( errorCode )) { toast ( \"\u7b49\u5f85\u7f51\u5173\u7ba1\u7406\u5458\u540c\u610f\" ); } else if ( \"10001\" . equals ( errorCode )) { String sspen = recv . getSspen (); if ( \"1\" . equals ( sspen )) { toast ( \"\u5df2\u6ce8\u518c\u7f51\u5173, \u5e76\u4e14\u5df2\u6388\u6743\" ); } else { toast ( \"\u5df2\u6ce8\u518c\u7f51\u5173, \u4f46\u7ba1\u7406\u5458\u672a\u6388\u6743\" ); } } else { toast ( \"\u6ce8\u518c\u7f51\u5173\u6210\u529f\" ); } } @Override public void onFailure ( int callBackMark , String errorCode ) { if ( \"10026\" . equals ( errorCode )) { toast ( \"\u7f51\u5173\u6807\u8bc6\u9519\u8bef\" ); } else { toast ( \"\u6ce8\u518c\u7f51\u5173\u5931\u8d25 \" + errorCode ); } } }); // \u767b\u5f55\u7f51\u5173 HostApi . login ( hostId , \"123456\" , new IBaseCallback < HostLogin . Recv > () { @Override public void onSuccess ( HostLogin . Recv recv , int callBackMark , String errorCode ) { VensiMqtt . getInstance (). setMainHost ( recv . getHostId ()); toast ( \"\u767b\u5f55\u7f51\u5173\u6210\u529f \" + recv . getSessionId ()); } @Override public void onFailure ( int callBackMark , String errorCode ) { if ( \"10002\" . equals ( errorCode )) { toast ( \"\u5bc6\u7801\u9519\u8bef\" ); } else if ( \"10025\" . equals ( errorCode )) { toast ( \"\u7b49\u5f85\u7f51\u5173\u7ba1\u7406\u5458\u540c\u610f\" ); } else { toast ( \"\u6ce8\u518c\u7f51\u5173\u5931\u8d25 \" + errorCode ); } } });","title":"\u6ce8\u518c\u7f51\u5173\u6216\u767b\u5f55\u7f51\u5173"},{"location":"Android/AndroidAPI/","text":"Android SDK API \u00b6 API \u6587\u6863","title":"Android SDK API"},{"location":"Android/AndroidAPI/#android-sdk-api","text":"API \u6587\u6863","title":"Android SDK API"},{"location":"Android/AndroidFAQ/","text":"","title":"Android SDK FAQ"},{"location":"Device/DeviceAirController/","text":"\u4e2d\u592e\u7a7a\u8c03\u63a7\u5236\u5668 \u00b6 \u4e2d\u592e\u7a7a\u8c03\u63a7\u5236\u5668\u6709\u4e24\u79cd\u63a7\u5236\u65b9\u5f0f\u3002 \u4e00\u79cd\u4f7f\u7528 AirConditionerApi\uff08\u8bbe\u5907\u7c7b\u578b\uff1aA001_485\u3001A0060001\u30010166\uff09\u3002 \u4e00\u79cd\u4f7f\u7528 DeviceApi \u901a\u7528\u7684\u63a7\u5236\u65b9\u6cd5\uff08\u8bbe\u5907\u7c7b\u578b\uff1a0300VZ00E32210300ZHWK\uff09\u3002 AirConditionerApi \u00b6 \u83b7\u53d6\u72b6\u6001 \u00b6 Android AirConditionerApi . getStatus ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , new MqttCallback < AirControllerState . Recv > () { @Override public void onSuccess ( AirControllerState . Recv recv , int callBackMark , String errorCode ) { recv . getValue (). getOnOff (); // \u5f00\u542f\u5173\u95ed\u72b6\u6001 recv . getValue (). getTempSetting (); // \u8bbe\u7f6e\u7684\u6e29\u5ea6 recv . getValue (). getTempActual (); // \u5ba4\u6e29 recv . getValue (). getMode (); // \u6a21\u5f0f recv . getValue (). getFanSpeed (); // \u98ce\u901f } }); \u63a7\u5236 \u00b6 Android // \u8bbe\u7f6e\u6a21\u5f0f // cool \u5236\u51b7 // heat \u5236\u70ed // dry \u9664\u6e7f // fan \u9001\u98ce AirConditionerApi . setMode ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , mode , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u8bbe\u7f6e\u6a21\u5f0f\u6210\u529f\" ); } }); // \u8bbe\u7f6e\u98ce\u901f // low \u4f4e // mid \u4e2d // high \u9ad8 AirConditionerApi . setFanSpeed ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , fanspeed , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u8bbe\u7f6e\u98ce\u901f\u6210\u529f\" ); } }); // \u8bbe\u7f6e\u6e29\u5ea6\uff08\u9664\u6e7f\u548c\u9001\u98ce\u6a21\u5f0f\u4e0b\u65e0\u6cd5\u63a7\u5236\u6e29\u5ea6\uff09 // \"16\"~\"30\" AirConditionerApi . setTemp ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , temp , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u8bbe\u7f6e\u6e29\u5ea6\u6210\u529f\" ); } }); // \u5f00/\u5173\u673a // true \u5f00\u673a // false \u5173\u673a AirConditionerApi . turnOnOrOff ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , isOn , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u5f00/\u5173\u673a\u6210\u529f\" ); } }); DeviceApi \u00b6 \u83b7\u53d6\u72b6\u6001 \u00b6 Android DeviceApi . getStatus ( hostId , deviceId , deviceType , zoneId , new MqttCallback < DeviceState . Recv > () { @Override public void onSuccess ( DeviceState . Recv recv , int callBackMark , String errorCode ) { recv . getOnOrOff (); // \u5f00\u5173\u673a\u72b6\u6001 recv . getModel (); // \u6a21\u5f0f recv . getWindSpeed (); // \u98ce\u901f recv . getCoolTemp (); // \u5236\u51b7\u6e29\u5ea6 recv . getCoolTempMax (); // \u5236\u51b7\u6700\u9ad8\u53ef\u8c03\u8282\u6e29\u5ea6 recv . getCoolTempMin (); // \u5236\u51b7\u6700\u4f4e\u53ef\u8c03\u8282\u6e29\u5ea6 recv . getHeatTemp (); // \u5236\u70ed\u6e29\u5ea6 recv . getHeatTempMax (); // \u5236\u70ed\u6700\u9ad8\u53ef\u8c03\u8282\u6e29\u5ea6 recv . getHeatTempMin (); // \u5236\u70ed\u6700\u4f4e\u53ef\u8c03\u8282\u6e29\u5ea6 } }); \u63a7\u5236 \u00b6 Android // \u5f00\u5173\u673a controlKey = \"onoff\", controlValue = \"on/off\" // \u6a21\u5f0f controlKey = \"model\", controlValue = \"3,4,7,8\" \u5236\u51b7\u3001\u5236\u70ed\u3001\u9001\u98ce\u3001\u9664\u6e7f // \u98ce\u901f controlKey = \"wind_speed\", controlValue = \"1/2/3\" \u4f4e\u4e2d\u9ad8 // \u6e29\u5ea6 // \u5728\u5236\u51b7\u6a21\u5f0f\u4e0b controlKey = \"cool_temp\", controlValue = \"16\" \u4f7f\u7528\u72b6\u6001\u4e2d\u7684\u6700\u5927\u6700\u5c0f\u503c \u9ed8\u8ba4\u662f 16~32 // \u5728\u5236\u70ed\u6a21\u5f0f\u4e0b controlKey = \"heat_temp\", controlValue = \"16\" \u4f7f\u7528\u72b6\u6001\u4e2d\u7684\u6700\u5927\u6700\u5c0f\u503c \u9ed8\u8ba4\u662f 16~32 // \u9001\u98ce\u3001\u9664\u6e7f\u6a21\u5f0f\u4e0b\u65e0\u6cd5\u63a7\u5236\u6e29\u5ea6 DeviceApi . control ( hostId , deviceId , deviceType , zoneId , controlKey , controlValue , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u63a7\u5236\u6210\u529f\" ); } });","title":"\u4e2d\u592e\u7a7a\u8c03\u63a7\u5236\u5668"},{"location":"Device/DeviceAirController/#_1","text":"\u4e2d\u592e\u7a7a\u8c03\u63a7\u5236\u5668\u6709\u4e24\u79cd\u63a7\u5236\u65b9\u5f0f\u3002 \u4e00\u79cd\u4f7f\u7528 AirConditionerApi\uff08\u8bbe\u5907\u7c7b\u578b\uff1aA001_485\u3001A0060001\u30010166\uff09\u3002 \u4e00\u79cd\u4f7f\u7528 DeviceApi \u901a\u7528\u7684\u63a7\u5236\u65b9\u6cd5\uff08\u8bbe\u5907\u7c7b\u578b\uff1a0300VZ00E32210300ZHWK\uff09\u3002","title":"\u4e2d\u592e\u7a7a\u8c03\u63a7\u5236\u5668"},{"location":"Device/DeviceAirController/#airconditionerapi","text":"","title":"AirConditionerApi"},{"location":"Device/DeviceAirController/#_2","text":"Android AirConditionerApi . getStatus ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , new MqttCallback < AirControllerState . Recv > () { @Override public void onSuccess ( AirControllerState . Recv recv , int callBackMark , String errorCode ) { recv . getValue (). getOnOff (); // \u5f00\u542f\u5173\u95ed\u72b6\u6001 recv . getValue (). getTempSetting (); // \u8bbe\u7f6e\u7684\u6e29\u5ea6 recv . getValue (). getTempActual (); // \u5ba4\u6e29 recv . getValue (). getMode (); // \u6a21\u5f0f recv . getValue (). getFanSpeed (); // \u98ce\u901f } });","title":"\u83b7\u53d6\u72b6\u6001"},{"location":"Device/DeviceAirController/#_3","text":"Android // \u8bbe\u7f6e\u6a21\u5f0f // cool \u5236\u51b7 // heat \u5236\u70ed // dry \u9664\u6e7f // fan \u9001\u98ce AirConditionerApi . setMode ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , mode , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u8bbe\u7f6e\u6a21\u5f0f\u6210\u529f\" ); } }); // \u8bbe\u7f6e\u98ce\u901f // low \u4f4e // mid \u4e2d // high \u9ad8 AirConditionerApi . setFanSpeed ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , fanspeed , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u8bbe\u7f6e\u98ce\u901f\u6210\u529f\" ); } }); // \u8bbe\u7f6e\u6e29\u5ea6\uff08\u9664\u6e7f\u548c\u9001\u98ce\u6a21\u5f0f\u4e0b\u65e0\u6cd5\u63a7\u5236\u6e29\u5ea6\uff09 // \"16\"~\"30\" AirConditionerApi . setTemp ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , temp , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u8bbe\u7f6e\u6e29\u5ea6\u6210\u529f\" ); } }); // \u5f00/\u5173\u673a // true \u5f00\u673a // false \u5173\u673a AirConditionerApi . turnOnOrOff ( hostId , DEVICE_ID , DEVICE_TYPE , DEVICE_ZONE_ID , isOn , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u5f00/\u5173\u673a\u6210\u529f\" ); } });","title":"\u63a7\u5236"},{"location":"Device/DeviceAirController/#deviceapi","text":"","title":"DeviceApi"},{"location":"Device/DeviceAirController/#_4","text":"Android DeviceApi . getStatus ( hostId , deviceId , deviceType , zoneId , new MqttCallback < DeviceState . Recv > () { @Override public void onSuccess ( DeviceState . Recv recv , int callBackMark , String errorCode ) { recv . getOnOrOff (); // \u5f00\u5173\u673a\u72b6\u6001 recv . getModel (); // \u6a21\u5f0f recv . getWindSpeed (); // \u98ce\u901f recv . getCoolTemp (); // \u5236\u51b7\u6e29\u5ea6 recv . getCoolTempMax (); // \u5236\u51b7\u6700\u9ad8\u53ef\u8c03\u8282\u6e29\u5ea6 recv . getCoolTempMin (); // \u5236\u51b7\u6700\u4f4e\u53ef\u8c03\u8282\u6e29\u5ea6 recv . getHeatTemp (); // \u5236\u70ed\u6e29\u5ea6 recv . getHeatTempMax (); // \u5236\u70ed\u6700\u9ad8\u53ef\u8c03\u8282\u6e29\u5ea6 recv . getHeatTempMin (); // \u5236\u70ed\u6700\u4f4e\u53ef\u8c03\u8282\u6e29\u5ea6 } });","title":"\u83b7\u53d6\u72b6\u6001"},{"location":"Device/DeviceAirController/#_5","text":"Android // \u5f00\u5173\u673a controlKey = \"onoff\", controlValue = \"on/off\" // \u6a21\u5f0f controlKey = \"model\", controlValue = \"3,4,7,8\" \u5236\u51b7\u3001\u5236\u70ed\u3001\u9001\u98ce\u3001\u9664\u6e7f // \u98ce\u901f controlKey = \"wind_speed\", controlValue = \"1/2/3\" \u4f4e\u4e2d\u9ad8 // \u6e29\u5ea6 // \u5728\u5236\u51b7\u6a21\u5f0f\u4e0b controlKey = \"cool_temp\", controlValue = \"16\" \u4f7f\u7528\u72b6\u6001\u4e2d\u7684\u6700\u5927\u6700\u5c0f\u503c \u9ed8\u8ba4\u662f 16~32 // \u5728\u5236\u70ed\u6a21\u5f0f\u4e0b controlKey = \"heat_temp\", controlValue = \"16\" \u4f7f\u7528\u72b6\u6001\u4e2d\u7684\u6700\u5927\u6700\u5c0f\u503c \u9ed8\u8ba4\u662f 16~32 // \u9001\u98ce\u3001\u9664\u6e7f\u6a21\u5f0f\u4e0b\u65e0\u6cd5\u63a7\u5236\u6e29\u5ea6 DeviceApi . control ( hostId , deviceId , deviceType , zoneId , controlKey , controlValue , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { toast ( \"\u63a7\u5236\u6210\u529f\" ); } });","title":"\u63a7\u5236"},{"location":"Device/DeviceInfraredRepeater/","text":"\u7ea2\u5916\u8f6c\u53d1\u5668 \u00b6 \u83b7\u53d6\u5b50\u8bbe\u5907\u5217\u8868 \u00b6 public static long getSubDeviceList ( String hostId , String deviceId , IBaseCallback < InfraredForwarderDeviceList . Recv > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id callback \u56de\u8c03 \u6dfb\u52a0\u5b50\u8bbe\u5907 \u00b6 public static long addSubDevice ( String hostId , String deviceId , String subDeviceId , String subDeviceName , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id subDeviceName \u5b50\u8bbe\u5907\u540d\u79f0 callback \u56de\u8c03 \u5220\u9664\u5b50\u8bbe\u5907 \u00b6 public static long deleteSubDevice ( String hostId , String deviceId , String subDeviceId , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id callback \u56de\u8c03 \u4fee\u6539\u5b50\u8bbe\u5907\u540d\u79f0 \u00b6 public static long editSubDeviceName ( String hostId , String deviceId , String subDeviceId , String newName , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id newName \u65b0\u7684\u8bbe\u5907\u540d\u79f0 callback \u56de\u8c03 \u6253\u5f00\u6216\u5173\u95ed\u7ea2\u5916\u5b66\u4e60 \u00b6 \u8fd4\u56de\u7ed3\u679c\u9700\u8981\u5728 ReportMsgApi.setOnInfraredReport(ReportMsgApi.OnInfraredReport) \u4e2d\u76d1\u542c public static long studyInfrared ( String hostId , String deviceId , String subDeviceId , String keyId , String keyName , boolean isOpen , final IBaseCallback < InfraredForwarderLearing . Recv > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id keyId \u6309\u952eId\uff1a \u4f20\u2f0a\u2f83\u2f30\u521b\u5efa\u7684 UUID \u5373\u53ef(\u6ce8\u610f, \u2ed3\u5ea6\u56fa\u5b9a16) keyName \u6309\u952e\u540d\u79f0 isOpen close_study: \u5173\u95ed\u7ea2\u5916\u5b66\u4e60 open_study: \u6253\u5f00\u7ea2\u5916\u5b66\u4e60(30\u79d2\u2f83\u52a8\u5173\u95ed) callback \u56de\u8c03 \u6d41\u7a0b\u56fe \u83b7\u53d6\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u503c\u5217\u8868 \u00b6 public static long getStudyInfraredKeyList ( String hostId , String deviceId , String subDeviceId , IBaseCallback < InfraredForwarderLearnedKeys . Recv > callback ) { \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id callback \u56de\u8c03 \u5220\u9664\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u503c \u00b6 public static long deleteStudyInfraredKey ( String hostId , String deviceId , String subDeviceId , String keyId , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id keyId \u6309\u952eId callback \u56de\u8c03 \u4fee\u6539\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u503c\u540d\u79f0 \u00b6 public static long editStudyInfraredKeyName ( String hostId , String deviceId , String subDeviceId , String keyId , String newName , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907Id subDeviceId \u5b50\u8bbe\u5907id keyId \u6309\u952eId newName \u65b0\u540d\u79f0 callback \u56de\u8c03 \u4fee\u6539\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u5176\u4ed6\u5c5e\u6027 \u00b6 public static long editStudyInfraredKey ( String hostId , List < InfraredForwarderLearnSettingKeyNamePublish > keys , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id keys \u7ea2\u5916\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u5217\u8868 callback \u56de\u8c03 InfraredForwarderLearnSettingKeyNamePublish public class InfraredForwarderLearnSettingKeyNamePublish { @SerializedName ( \"device_id\" ) private String deviceId ; // \u8bbe\u5907id @SerializedName ( \"type_id\" ) private String typeId ; // \u7c7b\u578bid @SerializedName ( \"key_id\" ) private String keyId ; // \u6309\u952eid @SerializedName ( \"key_name\" ) private String keyName ; // \u6309\u952e\u540d\u79f0 @SerializedName ( \"img_id\" ) private String imgId ; // \u56fe\u6807id @SerializedName ( \"key_seq\" ) private String keySeq ; // \u6392\u5e8f\u5e8f\u53f7 } \u63a7\u5236\u7ea2\u5916\u8bbe\u5907\u952e\u503c \u00b6 public static long controlSubDeviceKey ( String hostId , String deviceId , String subDeviceId , String keyId , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id keyId \u6309\u952eId callback \u56de\u8c03 \u63a7\u5236\u7ea2\u5916\u7801 \u00b6 public static long controlKeyValue ( String hostId , String deviceId , String value , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id value \u7ea2\u5916\u7801 callback \u56de\u8c03 \u83b7\u53d6\u5b50\u8bbe\u5907\u4e91\u7aef\u952e\u7ea2\u5916\u7801(\u4e91\u7aef\u63a5\u53e3) \u00b6 public static long getInfraredCodeList ( String hostId , String typeId , String brandId , String remoteId , String keyId , IBaseCallback < InfraredForwarderCode . Recv > callback ) { \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id typeId \u7c7b\u578bid brandId \u54c1\u724cid remoteId \u578b\u53f7id keyId \u67d0\u4e2a\u6309\u952eid \u6216\u5219 all \uff08\u83b7\u53d6\u5168\u90e8\uff09 callback \u56de\u8c03 \u83b7\u53d6\u67d0\u4e2a\u7c7b\u578b\u5b50\u8bbe\u5907\u7684\u914d\u7f6e\u6b65\u9aa4(\u4e91\u7aef\u63a5\u53e3) \u00b6 \u83b7\u53d6\u4e0d\u540c\u7c7b\u578b\u5b50\u8bbe\u5907\u7684\u6d4b\u8bd5\u6b65\u9aa4\uff0c\u8fd9\u6837\u80fd\u51c6\u786e\u5b9a\u4f4d\u662f\u4e0d\u662f\u8be5\u7c7b\u578b\u7684\u5b50\u8bbe\u5907 \u6bd4\u5982\u83b7\u53d6\u7535\u89c6\u7684\u914d\u7f6e\u6b65\u9aa4\uff0c\u5f00\u5173\uff0c\u97f3\u91cf\uff0c\u83dc\u5355 \u8fd9\u51e0\u4e2a\u6b65\u9aa4\u3002 \u7136\u540e\u5c31\u4e00\u4e2a\u4e2a\u8bd5\u8fc7\u53bb. \u5168\u90fd\u6709\u54cd\u5e94\u624d\u80fd\u51c6\u786e\u5b9a\u4f4d\u662f\u8be5\u7c7b\u578b\u7684\u5b50\u8bbe\u5907 public static long getSubDeviceConfigStep ( String hostId , String typeId , String brandId , String remoteId , IBaseCallback < InfraredForwarderFit . Recv > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id typeId \u7c7b\u578bid brandId \u54c1\u724cid remoteId \u578b\u53f7id callback \u56de\u8c03","title":"\u7ea2\u5916\u8f6c\u53d1\u5668"},{"location":"Device/DeviceInfraredRepeater/#_1","text":"","title":"\u7ea2\u5916\u8f6c\u53d1\u5668"},{"location":"Device/DeviceInfraredRepeater/#_2","text":"public static long getSubDeviceList ( String hostId , String deviceId , IBaseCallback < InfraredForwarderDeviceList . Recv > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id callback \u56de\u8c03","title":"\u83b7\u53d6\u5b50\u8bbe\u5907\u5217\u8868"},{"location":"Device/DeviceInfraredRepeater/#_3","text":"public static long addSubDevice ( String hostId , String deviceId , String subDeviceId , String subDeviceName , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id subDeviceName \u5b50\u8bbe\u5907\u540d\u79f0 callback \u56de\u8c03","title":"\u6dfb\u52a0\u5b50\u8bbe\u5907"},{"location":"Device/DeviceInfraredRepeater/#_4","text":"public static long deleteSubDevice ( String hostId , String deviceId , String subDeviceId , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id callback \u56de\u8c03","title":"\u5220\u9664\u5b50\u8bbe\u5907"},{"location":"Device/DeviceInfraredRepeater/#_5","text":"public static long editSubDeviceName ( String hostId , String deviceId , String subDeviceId , String newName , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id newName \u65b0\u7684\u8bbe\u5907\u540d\u79f0 callback \u56de\u8c03","title":"\u4fee\u6539\u5b50\u8bbe\u5907\u540d\u79f0"},{"location":"Device/DeviceInfraredRepeater/#_6","text":"\u8fd4\u56de\u7ed3\u679c\u9700\u8981\u5728 ReportMsgApi.setOnInfraredReport(ReportMsgApi.OnInfraredReport) \u4e2d\u76d1\u542c public static long studyInfrared ( String hostId , String deviceId , String subDeviceId , String keyId , String keyName , boolean isOpen , final IBaseCallback < InfraredForwarderLearing . Recv > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id keyId \u6309\u952eId\uff1a \u4f20\u2f0a\u2f83\u2f30\u521b\u5efa\u7684 UUID \u5373\u53ef(\u6ce8\u610f, \u2ed3\u5ea6\u56fa\u5b9a16) keyName \u6309\u952e\u540d\u79f0 isOpen close_study: \u5173\u95ed\u7ea2\u5916\u5b66\u4e60 open_study: \u6253\u5f00\u7ea2\u5916\u5b66\u4e60(30\u79d2\u2f83\u52a8\u5173\u95ed) callback \u56de\u8c03 \u6d41\u7a0b\u56fe","title":"\u6253\u5f00\u6216\u5173\u95ed\u7ea2\u5916\u5b66\u4e60"},{"location":"Device/DeviceInfraredRepeater/#_7","text":"public static long getStudyInfraredKeyList ( String hostId , String deviceId , String subDeviceId , IBaseCallback < InfraredForwarderLearnedKeys . Recv > callback ) { \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id callback \u56de\u8c03","title":"\u83b7\u53d6\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u503c\u5217\u8868"},{"location":"Device/DeviceInfraredRepeater/#_8","text":"public static long deleteStudyInfraredKey ( String hostId , String deviceId , String subDeviceId , String keyId , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id keyId \u6309\u952eId callback \u56de\u8c03","title":"\u5220\u9664\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u503c"},{"location":"Device/DeviceInfraredRepeater/#_9","text":"public static long editStudyInfraredKeyName ( String hostId , String deviceId , String subDeviceId , String keyId , String newName , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907Id subDeviceId \u5b50\u8bbe\u5907id keyId \u6309\u952eId newName \u65b0\u540d\u79f0 callback \u56de\u8c03","title":"\u4fee\u6539\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u503c\u540d\u79f0"},{"location":"Device/DeviceInfraredRepeater/#_10","text":"public static long editStudyInfraredKey ( String hostId , List < InfraredForwarderLearnSettingKeyNamePublish > keys , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id keys \u7ea2\u5916\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u5217\u8868 callback \u56de\u8c03 InfraredForwarderLearnSettingKeyNamePublish public class InfraredForwarderLearnSettingKeyNamePublish { @SerializedName ( \"device_id\" ) private String deviceId ; // \u8bbe\u5907id @SerializedName ( \"type_id\" ) private String typeId ; // \u7c7b\u578bid @SerializedName ( \"key_id\" ) private String keyId ; // \u6309\u952eid @SerializedName ( \"key_name\" ) private String keyName ; // \u6309\u952e\u540d\u79f0 @SerializedName ( \"img_id\" ) private String imgId ; // \u56fe\u6807id @SerializedName ( \"key_seq\" ) private String keySeq ; // \u6392\u5e8f\u5e8f\u53f7 }","title":"\u4fee\u6539\u5b50\u8bbe\u5907\u5b66\u4e60\u952e\u5176\u4ed6\u5c5e\u6027"},{"location":"Device/DeviceInfraredRepeater/#_11","text":"public static long controlSubDeviceKey ( String hostId , String deviceId , String subDeviceId , String keyId , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id subDeviceId \u5b50\u8bbe\u5907Id keyId \u6309\u952eId callback \u56de\u8c03","title":"\u63a7\u5236\u7ea2\u5916\u8bbe\u5907\u952e\u503c"},{"location":"Device/DeviceInfraredRepeater/#_12","text":"public static long controlKeyValue ( String hostId , String deviceId , String value , IBaseCallback < String > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id deviceId \u8bbe\u5907id value \u7ea2\u5916\u7801 callback \u56de\u8c03","title":"\u63a7\u5236\u7ea2\u5916\u7801"},{"location":"Device/DeviceInfraredRepeater/#_13","text":"public static long getInfraredCodeList ( String hostId , String typeId , String brandId , String remoteId , String keyId , IBaseCallback < InfraredForwarderCode . Recv > callback ) { \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id typeId \u7c7b\u578bid brandId \u54c1\u724cid remoteId \u578b\u53f7id keyId \u67d0\u4e2a\u6309\u952eid \u6216\u5219 all \uff08\u83b7\u53d6\u5168\u90e8\uff09 callback \u56de\u8c03","title":"\u83b7\u53d6\u5b50\u8bbe\u5907\u4e91\u7aef\u952e\u7ea2\u5916\u7801(\u4e91\u7aef\u63a5\u53e3)"},{"location":"Device/DeviceInfraredRepeater/#_14","text":"\u83b7\u53d6\u4e0d\u540c\u7c7b\u578b\u5b50\u8bbe\u5907\u7684\u6d4b\u8bd5\u6b65\u9aa4\uff0c\u8fd9\u6837\u80fd\u51c6\u786e\u5b9a\u4f4d\u662f\u4e0d\u662f\u8be5\u7c7b\u578b\u7684\u5b50\u8bbe\u5907 \u6bd4\u5982\u83b7\u53d6\u7535\u89c6\u7684\u914d\u7f6e\u6b65\u9aa4\uff0c\u5f00\u5173\uff0c\u97f3\u91cf\uff0c\u83dc\u5355 \u8fd9\u51e0\u4e2a\u6b65\u9aa4\u3002 \u7136\u540e\u5c31\u4e00\u4e2a\u4e2a\u8bd5\u8fc7\u53bb. \u5168\u90fd\u6709\u54cd\u5e94\u624d\u80fd\u51c6\u786e\u5b9a\u4f4d\u662f\u8be5\u7c7b\u578b\u7684\u5b50\u8bbe\u5907 public static long getSubDeviceConfigStep ( String hostId , String typeId , String brandId , String remoteId , IBaseCallback < InfraredForwarderFit . Recv > callback ) \u53c2\u6570 \u91ca\u4e49 hostId \u7f51\u5173id typeId \u7c7b\u578bid brandId \u54c1\u724cid remoteId \u578b\u53f7id callback \u56de\u8c03","title":"\u83b7\u53d6\u67d0\u4e2a\u7c7b\u578b\u5b50\u8bbe\u5907\u7684\u914d\u7f6e\u6b65\u9aa4(\u4e91\u7aef\u63a5\u53e3)"},{"location":"Device/DeviceSceneSwitch/","text":"\u60c5\u666f\u5f00\u5173 \u00b6 \u60c5\u666f\u5f00\u5173\u4e3b\u8981\u529f\u80fd\u7528\u4e8e\u7ed1\u5b9a\u4e00\u4e2a \u60c5\u666f \uff0c\u7136\u540e\u70b9\u51fb\u60c5\u666f\u5f00\u5173\u65f6\u53ef\u4ee5\u89e6\u53d1\u8fd9\u4e2a\u7ed1\u5b9a\u7684\u60c5\u666f\u3002 \u7ed1\u5b9a\u3001\u89e3\u7ed1\u60c5\u666f \u00b6 \u60c5\u666f\u5f00\u5173\u6709\u7740\u4e0d\u540c\u7684\u7ed1\u5b9a\u6570\u91cf\uff0c\u89c6\u5177\u4f53\u8bbe\u5907\u7c7b\u578b\u800c\u5b9a\u3002 \u5bf9\u5e94\u7f51\u5173\u7684\u53c2\u6570 switch_bind_x\uff0c\u5982\u679c\u4e00\u4e2a\u8bbe\u5907\u652f\u6301\u7ed1\u5b9a\u56db\u4e2a\uff0c\u5219\u5bf9\u5e94\u662f switch_bind_0\uff0cswitch_bind_1\uff0cswitch_bind_2\uff0cswitch_bind_3\uff0c\u5f80\u8fd9\u4e9b key \u4e0a\u8bbe\u7f6e\u60c5\u666f\u7684 id\u3002\u89e3\u7ed1\u5219\u662f\u5c06\u5bf9\u5e94\u7684 key \u8bbe\u7f6e\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 \u8c03\u7528 SDK \u7684\u65b9\u6cd5\u5219\u662f\uff1a Android // deviceId \u60c5\u666f\u5f00\u5173\u7684 id // deviceType \u60c5\u666f\u5f00\u5173\u7684\u8bbe\u5907\u7c7b\u578b // sceneId \u60c5\u666f id\uff0c\u5982\u679c\u89e3\u7ed1\u5219\u4e3a\u7a7a\u5b57\u7b26\u4e32 \"\" // index \u5982\u679c\u4e3a switch_bind_0\uff0c\u5219 index = 0; SceneApi . bindScene ( hostId , deviceId , deviceType , sceneId , index , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u4fee\u6539\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u4fee\u6539\u5931\u8d25 } }); \u83b7\u53d6\u7ed1\u5b9a\u7684\u60c5\u666f \u00b6 \u8c03\u7528\u8bbe\u5907\u72b6\u6001\u7684\u63a5\u53e3\u83b7\u53d6\u7ed1\u5b9a\u7684\u60c5\u666f\u3002 Android DeviceApi . getStatus ( hostId , deviceId , deviceType , zoneId , new MqttCallback < DeviceState . Recv > () { @Override public void onSuccess ( DeviceState . Recv recv , int callBackMark , String errorCode ) { DeviceState . State state = recv . getStateList (). get ( 0 ); // \u652f\u6301\u7ed1\u5b9a\u591a\u5c11\u4e2a\u60c5\u666f\u5c31\u83b7\u53d6\u51e0\u4e2a\u3002 // \u5982\u679c\u662f\u652f\u6301\u4e00\u4e2a\u7684\uff0c\u5c31\u83b7\u53d6 getSwitchBind0() // \u5982\u679c\u662f\u652f\u6301\u4e24\u4e2a\u7684\uff0c\u5c31\u83b7\u53d6 getSwitchBind0()\uff0cgetSwitchBind1()\uff0c\u4ee5\u6b64\u7c7b\u63a8 state . getSwitchBind0 (); state . getSwitchBind1 (); state . getSwitchBind2 (); state . getSwitchBind3 (); state . getSwitchBind4 (); state . getSwitchBind5 (); state . getSwitchBind6 (); state . getSwitchBind7 (); } });","title":"\u60c5\u666f\u5f00\u5173"},{"location":"Device/DeviceSceneSwitch/#_1","text":"\u60c5\u666f\u5f00\u5173\u4e3b\u8981\u529f\u80fd\u7528\u4e8e\u7ed1\u5b9a\u4e00\u4e2a \u60c5\u666f \uff0c\u7136\u540e\u70b9\u51fb\u60c5\u666f\u5f00\u5173\u65f6\u53ef\u4ee5\u89e6\u53d1\u8fd9\u4e2a\u7ed1\u5b9a\u7684\u60c5\u666f\u3002","title":"\u60c5\u666f\u5f00\u5173"},{"location":"Device/DeviceSceneSwitch/#_2","text":"\u60c5\u666f\u5f00\u5173\u6709\u7740\u4e0d\u540c\u7684\u7ed1\u5b9a\u6570\u91cf\uff0c\u89c6\u5177\u4f53\u8bbe\u5907\u7c7b\u578b\u800c\u5b9a\u3002 \u5bf9\u5e94\u7f51\u5173\u7684\u53c2\u6570 switch_bind_x\uff0c\u5982\u679c\u4e00\u4e2a\u8bbe\u5907\u652f\u6301\u7ed1\u5b9a\u56db\u4e2a\uff0c\u5219\u5bf9\u5e94\u662f switch_bind_0\uff0cswitch_bind_1\uff0cswitch_bind_2\uff0cswitch_bind_3\uff0c\u5f80\u8fd9\u4e9b key \u4e0a\u8bbe\u7f6e\u60c5\u666f\u7684 id\u3002\u89e3\u7ed1\u5219\u662f\u5c06\u5bf9\u5e94\u7684 key \u8bbe\u7f6e\u4e3a\u7a7a\u5b57\u7b26\u4e32\u3002 \u8c03\u7528 SDK \u7684\u65b9\u6cd5\u5219\u662f\uff1a Android // deviceId \u60c5\u666f\u5f00\u5173\u7684 id // deviceType \u60c5\u666f\u5f00\u5173\u7684\u8bbe\u5907\u7c7b\u578b // sceneId \u60c5\u666f id\uff0c\u5982\u679c\u89e3\u7ed1\u5219\u4e3a\u7a7a\u5b57\u7b26\u4e32 \"\" // index \u5982\u679c\u4e3a switch_bind_0\uff0c\u5219 index = 0; SceneApi . bindScene ( hostId , deviceId , deviceType , sceneId , index , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u4fee\u6539\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u4fee\u6539\u5931\u8d25 } });","title":"\u7ed1\u5b9a\u3001\u89e3\u7ed1\u60c5\u666f"},{"location":"Device/DeviceSceneSwitch/#_3","text":"\u8c03\u7528\u8bbe\u5907\u72b6\u6001\u7684\u63a5\u53e3\u83b7\u53d6\u7ed1\u5b9a\u7684\u60c5\u666f\u3002 Android DeviceApi . getStatus ( hostId , deviceId , deviceType , zoneId , new MqttCallback < DeviceState . Recv > () { @Override public void onSuccess ( DeviceState . Recv recv , int callBackMark , String errorCode ) { DeviceState . State state = recv . getStateList (). get ( 0 ); // \u652f\u6301\u7ed1\u5b9a\u591a\u5c11\u4e2a\u60c5\u666f\u5c31\u83b7\u53d6\u51e0\u4e2a\u3002 // \u5982\u679c\u662f\u652f\u6301\u4e00\u4e2a\u7684\uff0c\u5c31\u83b7\u53d6 getSwitchBind0() // \u5982\u679c\u662f\u652f\u6301\u4e24\u4e2a\u7684\uff0c\u5c31\u83b7\u53d6 getSwitchBind0()\uff0cgetSwitchBind1()\uff0c\u4ee5\u6b64\u7c7b\u63a8 state . getSwitchBind0 (); state . getSwitchBind1 (); state . getSwitchBind2 (); state . getSwitchBind3 (); state . getSwitchBind4 (); state . getSwitchBind5 (); state . getSwitchBind6 (); state . getSwitchBind7 (); } });","title":"\u83b7\u53d6\u7ed1\u5b9a\u7684\u60c5\u666f"},{"location":"Device/DeviceSensor/","text":"\u4f20\u611f\u5668 \u00b6 \u76d1\u542c\u72b6\u6001\u4e0a\u62a5 \u00b6 Android // \u72b6\u6001\u76d1\u542c ReportMsgApi . setOnDeviceReport ( new ReportMsgApi . OnDeviceReport () { // ... @Override public void onSensorStatusReport ( DeviceSensorReportRecv recv ) { // \u4f20\u611f\u5668\u72b6\u6001\u4e0a\u62a5 recv . getZoneId (); // \u72b6\u6001\u7c7b\u578b recv . getZoneStatus (); // \u72b6\u6001\u503c\uff08\u6839\u636e\u72b6\u6001\u7c7b\u578b\uff09 recv . getTemperature (); // \u6e29\u6e7f\u5ea6\u4f20\u611f\u5668 -> \u6e29\u5ea6 recv . getHumidity (); // \u6e29\u6e7f\u5ea6\u4f20\u611f\u5668 -> \u6e7f\u5ea6 recv . getLumen (); // \u5149\u7167\u4f20\u611f\u5668 -> \u5149\u7167\u5f3a\u5ea6\u503c recv . getPm25 (); // \u7a7a\u6c14\u8d28\u91cf\u4f20\u611f\u5668 -> PM2.5 recv . getVoc (); // \u7a7a\u6c14\u8d28\u91cf\u4f20\u611f\u5668 -> voc } }); \u72b6\u6001\u89e3\u6790 \u00b6 \u6e29\u5ea6\u3001\u6e7f\u5ea6\u6570\u503c\u89e3\u6790 // zone_id = \"sensor_temp\"\uff0czone_id = \"sensor_humi\" // \u7f51\u5173\u4e0a\u62a5\u7684\u503c\u662f\u4e00\u4e2a16\u8fdb\u5236\u7684\u503c\uff0c\u6709\u9ad8\u4f4d\u548c\u4f4e\u4f4d // 1\u9996\u5148\u8981\u7ed9\u9ad8\u4f4e\u4f4d\u91cd\u65b0\u6392\u5e8f // 2\u7136\u540e\u5341\u516d\u8fdb\u5236\u8f6c\u5341\u8fdb\u5236 // 3\u5224\u65ad\u8f6c\u6210\u5341\u8fdb\u5236\u540e\u6570\u503c\u662f\u5426\u5927\u4e8e 32767\uff0c\u5927\u4e8e\u5219\u662f\u8d1f\u503c // 4\u9664\u4ee5100 public String parseTempAndHumidity ( String value ) { try { String low = value . substring ( 0 , 2 ); String height = value . substring ( 2 , 4 ); String targetValue = \"\" + height + low ; int valueInt = Integer . parseInt ( targetValue , 16 ); if ( valueInt > 32767 ) { valueInt = 32767 - valueInt ; } DecimalFormat format = new DecimalFormat ( \"0.##\" ); format . setRoundingMode ( RoundingMode . HALF_UP ); return format . format ( valueInt / 100 F ); } catch ( Exception e ) { return \"--\" ; } } PM25\u6570\u503c\u89e3\u6790 // zone_id = \"sensor_pm_25\" public String getPm25Level ( String value ) { try { int valueInt = Integer . parseInt ( value ); if ( valueInt > 0 && valueInt <= 50 ) { return \"\u4f18\" ; } else if ( valueInt > 51 && valueInt <= 150 ) { return \"\u826f\" ; } else if ( valueInt > 150 ) { return \"\u5dee\" ; } else { return \"\u672a\u68c0\u6d4b\u5230\u6570\u503c\" ; } } catch ( Exception e ) { return \"\" ; } } VOC \u89e3\u6790 // zone_id = \"sensor_voc\" public String getVocLevel ( String value ) { switch ( value ) { case \"01\" : return \"\u4f18\" ; case \"02\" : return \"\u826f\" ; case \"03\" : return \"\u5dee\" ; default : return \"\u672a\u68c0\u6d4b\u5230\u6570\u503c\" ; } } \u6839\u636e zone_status \u89e3\u6790 public String parserStatus ( String deviceType , String reportStatus ) { StringBuilder sb = new StringBuilder (); try { String binaryString ; String appDeviceType = DeviceTypeUtils . getInstant (). getDeviceType ( deviceType ); if ( TextUtils . equals ( \"0162\" , appDeviceType )) { binaryString = hexString2binaryString ( reportStatus ); } else { String substring = reportStatus . substring ( reportStatus . length () - 1 ); binaryString = Integer . toBinaryString ( Integer . valueOf ( substring , 16 )); } String value ; if ( binaryString . length () == 0 ) { value = \"0000\" ; } else if ( binaryString . length () == 1 ) { value = \"000\" + binaryString ; } else if ( binaryString . length () == 2 ) { value = \"00\" + binaryString ; } else if ( binaryString . length () == 3 ) { value = \"0\" + binaryString ; } else if ( binaryString . length () == 4 ) { value = binaryString ; } else { value = binaryString . substring ( binaryString . length () - 4 ); } String substring1 = value . substring ( 0 , 1 ); // 1\u4f4e\u7535\u91cf 0\u6b63\u5e38 String substring2 = value . substring ( 1 , 2 ); // 1\u9632\u62c6\u62a5\u8b66 0\u6b63\u5e38 String substring4 = value . substring ( 3 , 4 ); // 1\u62a5\u8b66 0\u6b63\u5e38 sb . append ( substring1 . equals ( \"1\" ) ? \"\u4f4e\u7535\u91cf,\" : \"\" ); sb . append ( substring2 . equals ( \"1\" ) ? \"\u9632\u62c6\u62a5\u8b66,\" : \"\" ); switch ( appDeviceSubtype ) { case DeviceTypeUtils . SUBTYPE_SENSOR_HUMAN_BODY_INFRARED : sb . append ( substring4 . equals ( \"1\" ) ? \"\u76d1\u6d4b\u5230\u6709\u4eba,\" : \"\u6b63\u5e38,\" ); break ; case DeviceTypeUtils . SUBTYPE_SENSOR_DOOR : sb . append ( substring4 . equals ( \"1\" ) ? \"\u76d1\u6d4b\u5230\u5f00\u95e8,\" : \"\u76d1\u6d4b\u5230\u5173\u95e8,\" ); break ; case DeviceTypeUtils . SUBTYPE_SENSOR_SOS : case DeviceTypeUtils . SUBTYPE_SENSOR_WATER_LOGGING : case DeviceTypeUtils . SUBTYPE_SENSOR_CO : case DeviceTypeUtils . SUBTYPE_SENSOR_COMBUSTIBLE_GAS : case DeviceTypeUtils . SUBTYPE_SENSOR_SMOKE : sb . append ( substring4 . equals ( \"1\" ) ? \"\u76d1\u6d4b\u5230\u62a5\u8b66,\" : \"\" ); break ; } } catch ( Exception e ) { return \"\" ; } String trim = sb . toString (). trim (); if ( trim . endsWith ( \",\" )) { return trim . substring ( 0 , trim . length () - 1 ); } else { if ( TextUtils . isEmpty ( trim )) { return \"\u72b6\u6001\u6b63\u5e38\" ; } else { return trim ; } } }","title":"\u4f20\u611f\u5668"},{"location":"Device/DeviceSensor/#_1","text":"","title":"\u4f20\u611f\u5668"},{"location":"Device/DeviceSensor/#_2","text":"Android // \u72b6\u6001\u76d1\u542c ReportMsgApi . setOnDeviceReport ( new ReportMsgApi . OnDeviceReport () { // ... @Override public void onSensorStatusReport ( DeviceSensorReportRecv recv ) { // \u4f20\u611f\u5668\u72b6\u6001\u4e0a\u62a5 recv . getZoneId (); // \u72b6\u6001\u7c7b\u578b recv . getZoneStatus (); // \u72b6\u6001\u503c\uff08\u6839\u636e\u72b6\u6001\u7c7b\u578b\uff09 recv . getTemperature (); // \u6e29\u6e7f\u5ea6\u4f20\u611f\u5668 -> \u6e29\u5ea6 recv . getHumidity (); // \u6e29\u6e7f\u5ea6\u4f20\u611f\u5668 -> \u6e7f\u5ea6 recv . getLumen (); // \u5149\u7167\u4f20\u611f\u5668 -> \u5149\u7167\u5f3a\u5ea6\u503c recv . getPm25 (); // \u7a7a\u6c14\u8d28\u91cf\u4f20\u611f\u5668 -> PM2.5 recv . getVoc (); // \u7a7a\u6c14\u8d28\u91cf\u4f20\u611f\u5668 -> voc } });","title":"\u76d1\u542c\u72b6\u6001\u4e0a\u62a5"},{"location":"Device/DeviceSensor/#_3","text":"\u6e29\u5ea6\u3001\u6e7f\u5ea6\u6570\u503c\u89e3\u6790 // zone_id = \"sensor_temp\"\uff0czone_id = \"sensor_humi\" // \u7f51\u5173\u4e0a\u62a5\u7684\u503c\u662f\u4e00\u4e2a16\u8fdb\u5236\u7684\u503c\uff0c\u6709\u9ad8\u4f4d\u548c\u4f4e\u4f4d // 1\u9996\u5148\u8981\u7ed9\u9ad8\u4f4e\u4f4d\u91cd\u65b0\u6392\u5e8f // 2\u7136\u540e\u5341\u516d\u8fdb\u5236\u8f6c\u5341\u8fdb\u5236 // 3\u5224\u65ad\u8f6c\u6210\u5341\u8fdb\u5236\u540e\u6570\u503c\u662f\u5426\u5927\u4e8e 32767\uff0c\u5927\u4e8e\u5219\u662f\u8d1f\u503c // 4\u9664\u4ee5100 public String parseTempAndHumidity ( String value ) { try { String low = value . substring ( 0 , 2 ); String height = value . substring ( 2 , 4 ); String targetValue = \"\" + height + low ; int valueInt = Integer . parseInt ( targetValue , 16 ); if ( valueInt > 32767 ) { valueInt = 32767 - valueInt ; } DecimalFormat format = new DecimalFormat ( \"0.##\" ); format . setRoundingMode ( RoundingMode . HALF_UP ); return format . format ( valueInt / 100 F ); } catch ( Exception e ) { return \"--\" ; } } PM25\u6570\u503c\u89e3\u6790 // zone_id = \"sensor_pm_25\" public String getPm25Level ( String value ) { try { int valueInt = Integer . parseInt ( value ); if ( valueInt > 0 && valueInt <= 50 ) { return \"\u4f18\" ; } else if ( valueInt > 51 && valueInt <= 150 ) { return \"\u826f\" ; } else if ( valueInt > 150 ) { return \"\u5dee\" ; } else { return \"\u672a\u68c0\u6d4b\u5230\u6570\u503c\" ; } } catch ( Exception e ) { return \"\" ; } } VOC \u89e3\u6790 // zone_id = \"sensor_voc\" public String getVocLevel ( String value ) { switch ( value ) { case \"01\" : return \"\u4f18\" ; case \"02\" : return \"\u826f\" ; case \"03\" : return \"\u5dee\" ; default : return \"\u672a\u68c0\u6d4b\u5230\u6570\u503c\" ; } } \u6839\u636e zone_status \u89e3\u6790 public String parserStatus ( String deviceType , String reportStatus ) { StringBuilder sb = new StringBuilder (); try { String binaryString ; String appDeviceType = DeviceTypeUtils . getInstant (). getDeviceType ( deviceType ); if ( TextUtils . equals ( \"0162\" , appDeviceType )) { binaryString = hexString2binaryString ( reportStatus ); } else { String substring = reportStatus . substring ( reportStatus . length () - 1 ); binaryString = Integer . toBinaryString ( Integer . valueOf ( substring , 16 )); } String value ; if ( binaryString . length () == 0 ) { value = \"0000\" ; } else if ( binaryString . length () == 1 ) { value = \"000\" + binaryString ; } else if ( binaryString . length () == 2 ) { value = \"00\" + binaryString ; } else if ( binaryString . length () == 3 ) { value = \"0\" + binaryString ; } else if ( binaryString . length () == 4 ) { value = binaryString ; } else { value = binaryString . substring ( binaryString . length () - 4 ); } String substring1 = value . substring ( 0 , 1 ); // 1\u4f4e\u7535\u91cf 0\u6b63\u5e38 String substring2 = value . substring ( 1 , 2 ); // 1\u9632\u62c6\u62a5\u8b66 0\u6b63\u5e38 String substring4 = value . substring ( 3 , 4 ); // 1\u62a5\u8b66 0\u6b63\u5e38 sb . append ( substring1 . equals ( \"1\" ) ? \"\u4f4e\u7535\u91cf,\" : \"\" ); sb . append ( substring2 . equals ( \"1\" ) ? \"\u9632\u62c6\u62a5\u8b66,\" : \"\" ); switch ( appDeviceSubtype ) { case DeviceTypeUtils . SUBTYPE_SENSOR_HUMAN_BODY_INFRARED : sb . append ( substring4 . equals ( \"1\" ) ? \"\u76d1\u6d4b\u5230\u6709\u4eba,\" : \"\u6b63\u5e38,\" ); break ; case DeviceTypeUtils . SUBTYPE_SENSOR_DOOR : sb . append ( substring4 . equals ( \"1\" ) ? \"\u76d1\u6d4b\u5230\u5f00\u95e8,\" : \"\u76d1\u6d4b\u5230\u5173\u95e8,\" ); break ; case DeviceTypeUtils . SUBTYPE_SENSOR_SOS : case DeviceTypeUtils . SUBTYPE_SENSOR_WATER_LOGGING : case DeviceTypeUtils . SUBTYPE_SENSOR_CO : case DeviceTypeUtils . SUBTYPE_SENSOR_COMBUSTIBLE_GAS : case DeviceTypeUtils . SUBTYPE_SENSOR_SMOKE : sb . append ( substring4 . equals ( \"1\" ) ? \"\u76d1\u6d4b\u5230\u62a5\u8b66,\" : \"\" ); break ; } } catch ( Exception e ) { return \"\" ; } String trim = sb . toString (). trim (); if ( trim . endsWith ( \",\" )) { return trim . substring ( 0 , trim . length () - 1 ); } else { if ( TextUtils . isEmpty ( trim )) { return \"\u72b6\u6001\u6b63\u5e38\" ; } else { return trim ; } } }","title":"\u72b6\u6001\u89e3\u6790"},{"location":"Device/DeviceZigbeeLock/","text":"Zigbee \u95e8\u9501 \u00b6 \u76d1\u542c\u95e8\u9501\u89e3\u9501\u72b6\u6001 \u00b6 Android ReportMsgApi . setOnDeviceReport ( new ReportMsgApi . OnDeviceReport () { // ... @Override public void onStatusReport ( DeviceStateRecv recv ) { String status = recv . getStatus (); String deviceId = recv . getId (); if ( \"wait_unlock\" . equals ( status )) { // \u8bf7\u6c42\u5f00\u9501 } else if ( \"unlock\" . equals ( status ) || \"success\" . equals ( status )) { // \u5f00\u9501\u6210\u529f } else if ( \"fail\" . equals ( status )) { // \u5f00\u9501\u5931\u8d25 } else if ( \"passwderr\" . equals ( status )) { // \u5bc6\u7801\u9519\u8bef } } \u53d1\u9001\u89e3\u9501\u8bf7\u6c42 \u00b6 Android String password = \"123456\" ; LockApi . openLock ( hostId , deviceId , deviceType , zoneId , password , new IBaseCallback < String > () { @Override public void onSuccess ( String recv , int callBackMark , String errorCode ) { // \u53d1\u9001\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u53d1\u9001\u5931\u8d25 } });","title":"zigbee\u95e8\u9501"},{"location":"Device/DeviceZigbeeLock/#zigbee","text":"","title":"Zigbee \u95e8\u9501"},{"location":"Device/DeviceZigbeeLock/#_1","text":"Android ReportMsgApi . setOnDeviceReport ( new ReportMsgApi . OnDeviceReport () { // ... @Override public void onStatusReport ( DeviceStateRecv recv ) { String status = recv . getStatus (); String deviceId = recv . getId (); if ( \"wait_unlock\" . equals ( status )) { // \u8bf7\u6c42\u5f00\u9501 } else if ( \"unlock\" . equals ( status ) || \"success\" . equals ( status )) { // \u5f00\u9501\u6210\u529f } else if ( \"fail\" . equals ( status )) { // \u5f00\u9501\u5931\u8d25 } else if ( \"passwderr\" . equals ( status )) { // \u5bc6\u7801\u9519\u8bef } }","title":"\u76d1\u542c\u95e8\u9501\u89e3\u9501\u72b6\u6001"},{"location":"Device/DeviceZigbeeLock/#_2","text":"Android String password = \"123456\" ; LockApi . openLock ( hostId , deviceId , deviceType , zoneId , password , new IBaseCallback < String > () { @Override public void onSuccess ( String recv , int callBackMark , String errorCode ) { // \u53d1\u9001\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u53d1\u9001\u5931\u8d25 } });","title":"\u53d1\u9001\u89e3\u9501\u8bf7\u6c42"},{"location":"Device/addremove/","text":"\u8bbe\u5907\u7684\u5165\u7f51\u3001\u79bb\u7f51\u3001\u83b7\u53d6\u8bbe\u5907\u5217\u8868 \u00b6 \u8bbe\u5907\u5165\u7f51\u3001\u79bb\u7f51\u53ea\u8981\u9488\u5bf9 zigbee \u7684\u8bbe\u5907\uff0c\u662f\u7f51\u5173\u548c\u8bbe\u5907\u8fdb\u884c zigbee \u7ec4\u7f51\u7684\u8fc7\u7a0b\u3002 \u5165\u7f51 \u00b6 Android // \u5f00\u542f\u7f51\u5173\u4e0e\u8bbe\u5907\u7ec4\u7f51 DeviceApi . search ( String hostId , String deviceType , String zoneId , IBaseCallback < Recv > callback ) // \u76d1\u542c\u8bbe\u5907\u5165\u7f51 ReportMsgApi . setOnDeviceReport ( new ReportMsgApi . OnDeviceReport () { // ... @Override public void onAdd ( String hostId , DeviceAdd2HostRecv . AddDevice addDevice ) { // \u6709\u65b0\u8bbe\u5907\u5165\u7f51 } @Override public void onDelete ( String hostId , DeviceAdd2HostRecv . AddDevice addDevice ) { // \u8bbe\u5907\u88ab\u5220\u9664 } }); \u79bb\u7f51 \u00b6 \u8bbe\u5907\u7684\u79bb\u7f51\u53ef\u4ee5\u662f\u624b\u52a8\u8c03\u7528\u7684 SDK \u7684\u63a5\u53e3\uff0c\u4e5f\u53ef\u4ee5\u662f\u901a\u8fc7\u91cd\u7f6e\u8bbe\u5907\u3002 Android // \u5220\u9664\u8bbe\u5907\uff08\u4e0a\u65b9\u7684\u76d1\u542c\u65b9\u6cd5\u4e2d\u53ef\u4ee5\u76d1\u542c\u5230\u8bbe\u5907\u88ab\u5220\u9664\u4e86\uff09 DeviceApi . delete ( String hostId , String deviceId , String deviceType , String zoneId , IBaseCallback < String > callback ) \u83b7\u53d6\u8bbe\u5907\u5217\u8868 \u00b6 Android DeviceApi . getDeviceList ( hostId , new MqttCallback < DeviceList . Recv > () { @Override public void onSuccess ( DeviceList . Recv recv , int callBackMark , String errorCode ) { List < DeviceList . Recv . Device > deviceList = new ArrayList <> (); for ( DeviceList . Recv . Device device : recv . getConfig ()) { // \u8bbe\u5907\u540d\u79f0 device . getDeviceName (); // \u8bbe\u5907 id device . getDeviceId (); } } });","title":"\u8bbe\u5907\u7684\u5165\u7f51\u3001\u79bb\u7f51\u3001\u83b7\u53d6\u8bbe\u5907\u5217\u8868"},{"location":"Device/addremove/#_1","text":"\u8bbe\u5907\u5165\u7f51\u3001\u79bb\u7f51\u53ea\u8981\u9488\u5bf9 zigbee \u7684\u8bbe\u5907\uff0c\u662f\u7f51\u5173\u548c\u8bbe\u5907\u8fdb\u884c zigbee \u7ec4\u7f51\u7684\u8fc7\u7a0b\u3002","title":"\u8bbe\u5907\u7684\u5165\u7f51\u3001\u79bb\u7f51\u3001\u83b7\u53d6\u8bbe\u5907\u5217\u8868"},{"location":"Device/addremove/#_2","text":"Android // \u5f00\u542f\u7f51\u5173\u4e0e\u8bbe\u5907\u7ec4\u7f51 DeviceApi . search ( String hostId , String deviceType , String zoneId , IBaseCallback < Recv > callback ) // \u76d1\u542c\u8bbe\u5907\u5165\u7f51 ReportMsgApi . setOnDeviceReport ( new ReportMsgApi . OnDeviceReport () { // ... @Override public void onAdd ( String hostId , DeviceAdd2HostRecv . AddDevice addDevice ) { // \u6709\u65b0\u8bbe\u5907\u5165\u7f51 } @Override public void onDelete ( String hostId , DeviceAdd2HostRecv . AddDevice addDevice ) { // \u8bbe\u5907\u88ab\u5220\u9664 } });","title":"\u5165\u7f51"},{"location":"Device/addremove/#_3","text":"\u8bbe\u5907\u7684\u79bb\u7f51\u53ef\u4ee5\u662f\u624b\u52a8\u8c03\u7528\u7684 SDK \u7684\u63a5\u53e3\uff0c\u4e5f\u53ef\u4ee5\u662f\u901a\u8fc7\u91cd\u7f6e\u8bbe\u5907\u3002 Android // \u5220\u9664\u8bbe\u5907\uff08\u4e0a\u65b9\u7684\u76d1\u542c\u65b9\u6cd5\u4e2d\u53ef\u4ee5\u76d1\u542c\u5230\u8bbe\u5907\u88ab\u5220\u9664\u4e86\uff09 DeviceApi . delete ( String hostId , String deviceId , String deviceType , String zoneId , IBaseCallback < String > callback )","title":"\u79bb\u7f51"},{"location":"Device/addremove/#_4","text":"Android DeviceApi . getDeviceList ( hostId , new MqttCallback < DeviceList . Recv > () { @Override public void onSuccess ( DeviceList . Recv recv , int callBackMark , String errorCode ) { List < DeviceList . Recv . Device > deviceList = new ArrayList <> (); for ( DeviceList . Recv . Device device : recv . getConfig ()) { // \u8bbe\u5907\u540d\u79f0 device . getDeviceName (); // \u8bbe\u5907 id device . getDeviceId (); } } });","title":"\u83b7\u53d6\u8bbe\u5907\u5217\u8868"},{"location":"Device/area/","text":"\u533a\u57df \u00b6 \u5728\u73b0\u5b9e\u751f\u6d3b\u4e2d\uff0c\u6211\u4eec\u7684\u5bb6\u4e2d\u53ef\u80fd\u6709\u5ba2\u5385\uff0c\u53a8\u623f\uff0c\u6d17\u624b\u95f4\u7b49\u623f\u95f4\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u7f51\u5173\u4e2d\u521b\u5efa\u5bf9\u5e94\u7684\u533a\u57df\uff0c\u7136\u540e\u5c06\u8bbe\u5907\u548c\u60c5\u666f\u8bbe\u7f6e\u5728\u8fd9\u4e9b\u533a\u57df\u4e2d\u8fdb\u884c\u7edf\u4e00\u7684\u7ba1\u7406\u548c\u63a7\u5236\u3002 \u83b7\u53d6\u533a\u57df\u4fe1\u606f \u00b6 \u7f51\u5173\u4e2d\u5df2\u9ed8\u8ba4\u6dfb\u52a0\u4e86\u4e3b\u533a\u57df\uff0c\u4e3b\u533a\u57df\u4e0b\u5305\u542b\u5b50\u533a\u57df\u3002 Android AreaApi . getFloorList ( hostId , new MqttCallback < AreaPrimaryList . Recv > () { @Override public void onSuccess ( AreaPrimaryList . Recv recv , int callBackMark , String errorCode ) { List < AreaPrimaryList . Recv . PrimaryArea > primaryAreaList = recv . getConfig (); for ( AreaPrimaryList . Recv . PrimaryArea primaryArea : primaryAreaList ) { // \u4e3b\u533a\u57df id primaryArea . getId (); // \u4e3b\u533a\u57df\u540d\u79f0 primaryArea . getName (); List < AreaPrimaryList . Recv . PrimaryArea . SecondaryArea > secondaryAreas = primaryArea . getSecondaryAreaList (); for ( AreaPrimaryList . Recv . PrimaryArea . SecondaryArea secondaryArea : secondaryAreas ) { // \u5b50\u533a\u57df id secondaryArea . getId (); // \u5b50\u533a\u57df\u5bf9\u5e94\u7684\u7236\u533a\u57df id secondaryArea . getParentId (); // \u5b50\u533a\u57df\u540d\u79f0 secondaryArea . getName (); } } } }); \u521b\u5efa\u3001\u4fee\u6539\u533a\u57df\u4fe1\u606f \u00b6 \u539f\u5219\u4e0a\u7f51\u5173\u4e0d\u5141\u8bb8\u521b\u5efa\u4e3b\u533a\u57df\uff0c\u9700\u8981\u4f7f\u7528\u63d0\u4f9b\u7684\u4e3b\u533a\u57df\uff0c\u5728\u5176\u4e0b\u521b\u5efa\u5b50\u533a\u57df\u3002 Android // \u521b\u5efa\u533a\u57df AreaApi . AreaBuilder builder = new AreaApi . AreaBuilder ( parentId ) // \u4e3b\u533a\u57df\u540d\u79f0 . setName ( \"\u5ba2\u5385\" ) // \u5b50\u533a\u57df\u540d\u79f0 . setImg ( \"00\" ) // \u56fe\u6807\u7531\u5f00\u53d1\u8005\u81ea\u5b9a\u4e49\uff0c\u5bf9\u5e94\u81ea\u5df1\u7684\u56fe\u6807\u6807\u8bc6 . setCreateDate ( new Date ()); AreaApi . editRoom ( hostId , builder , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u521b\u5efa\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u521b\u5efa\u5931\u8d25 } }); // \u4fee\u6539\u533a\u57df AreaApi . AreaBuilder builder = new AreaApi . AreaBuilder ( parentId , areaId ) // \u5982\u679c\u662f\u4fee\u6539\u5b50\u533a\u57df\u4fe1\u606f\uff0c\u4fdd\u6301 areaId \u4e0d\u53d8 . setName ( \"\u5ba2\u5385\" ) . setImg ( \"00\" ) . setCreateDate ( new Date ()); AreaApi . editRoom ( hostId , builder , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u4fee\u6539\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u4fee\u6539\u5931\u8d25 } }); \u5220\u9664\u533a\u57df \u00b6 Android AreaApi . deleteRoom ( hostId , areaId , parentId , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u5220\u9664\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u5220\u9664\u5931\u8d25 } }); \u533a\u57df\u4e2d\u5bfc\u5165\u3001\u79fb\u9664\u548c\u83b7\u53d6\u8bbe\u5907\u3001\u60c5\u666f \u00b6 \u5bfc\u5165\u8bbe\u5907\u3001\u60c5\u666f \u00b6 Android AreaApi . AreaObjectBuilder areaObjectBuilder = new AreaApi . AreaObjectBuilder ( area . getId ()); // \u5bfc\u5165\u8bbe\u5907 AreaObjectType objectType = AreaObjectType . device ; DeviceList . Recv . Device device = mDeviceList . get ( position ); areaObjectBuilder . setId ( deviceId ). setName ( deviceName ); // \u5bfc\u5165\u60c5\u666f AreaObjectType objectType = AreaObjectType . scene ; SceneList . Recv . Scene scene = mSceneList . get ( position ); areaObjectBuilder . setId ( sceneId ). setName ( sceneName ); AreaApi . importRoomObject ( hostId , areaId , parentId , objectType , areaObjectBuilder , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u5bfc\u5165\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u5bfc\u5165\u5931\u8d25 } }); \u79fb\u9664\u8bbe\u5907\u3001\u60c5\u666f \u00b6 Android AreaObjectType objectType = AreaObjectType . device ; // or AreaObjectType.scene String objectId = deviceId ; // or sceneId AreaApi . deleteRoomObjects ( hostId , areaId , parentId , objectType , objectId , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u79fb\u9664\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u79fb\u9664\u5931\u8d25 } }); \u83b7\u53d6\u8bbe\u5907\u3001\u60c5\u666f \u00b6 Android AreaApi . getRoomObjects ( hostId , area . getId (), area . getParentId (), AreaObjectType . all , new MqttCallback < AreaAllObject . Recv > () { @Override public void onSuccess ( AreaAllObject . Recv recv , int callBackMark , String errorCode ) { AreaAllObject . Recv . Objects objects = recv . getConfig (). get ( 0 ); List < AreaAllObject . Recv . Objects . Object > devices = objects . getDevice (); // \u533a\u57df\u8bbe\u5907\u5217\u8868 List < AreaAllObject . Recv . Objects . Object > scenes = objects . getScene (); // \u533a\u57df\u60c5\u666f\u5217\u8868 for ( AreaAllObject . Recv . Objects . Object device : devices ) { AreaObject object = new AreaObject ( AreaObjectType . device , device ); } for ( AreaAllObject . Recv . Objects . Object scene : scenes ) { AreaObject object = new AreaObject ( AreaObjectType . scene , scene ); } } }); \u533a\u57df\u5168\u5f00\u3001\u5168\u5173 \u00b6 \u533a\u57df\u4e2d\u63d0\u4f9b\u4e86\u706f\u5149\u8bbe\u5907\u7684\u5168\u5f00\u3001\u5168\u5173\u529f\u80fd\uff08\u5177\u4f53\u652f\u6301\u7684\u8bbe\u5907\u7c7b\u578b\u8bf7\u54a8\u8be2\uff0c\u7f51\u5173\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f1a\u6dfb\u52a0\u6216\u79fb\u9664\u652f\u6301\u7684\u8bbe\u5907\u7c7b\u578b\uff09 Android boolean value = true ; // ture \u5168\u5f00 false \u5168\u5173 AreaApi . controlRoom ( hostId , areaId , parentId , value , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u63a7\u5236\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u63a7\u5236\u5931\u8d25 } });","title":"\u533a\u57df"},{"location":"Device/area/#_1","text":"\u5728\u73b0\u5b9e\u751f\u6d3b\u4e2d\uff0c\u6211\u4eec\u7684\u5bb6\u4e2d\u53ef\u80fd\u6709\u5ba2\u5385\uff0c\u53a8\u623f\uff0c\u6d17\u624b\u95f4\u7b49\u623f\u95f4\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u7f51\u5173\u4e2d\u521b\u5efa\u5bf9\u5e94\u7684\u533a\u57df\uff0c\u7136\u540e\u5c06\u8bbe\u5907\u548c\u60c5\u666f\u8bbe\u7f6e\u5728\u8fd9\u4e9b\u533a\u57df\u4e2d\u8fdb\u884c\u7edf\u4e00\u7684\u7ba1\u7406\u548c\u63a7\u5236\u3002","title":"\u533a\u57df"},{"location":"Device/area/#_2","text":"\u7f51\u5173\u4e2d\u5df2\u9ed8\u8ba4\u6dfb\u52a0\u4e86\u4e3b\u533a\u57df\uff0c\u4e3b\u533a\u57df\u4e0b\u5305\u542b\u5b50\u533a\u57df\u3002 Android AreaApi . getFloorList ( hostId , new MqttCallback < AreaPrimaryList . Recv > () { @Override public void onSuccess ( AreaPrimaryList . Recv recv , int callBackMark , String errorCode ) { List < AreaPrimaryList . Recv . PrimaryArea > primaryAreaList = recv . getConfig (); for ( AreaPrimaryList . Recv . PrimaryArea primaryArea : primaryAreaList ) { // \u4e3b\u533a\u57df id primaryArea . getId (); // \u4e3b\u533a\u57df\u540d\u79f0 primaryArea . getName (); List < AreaPrimaryList . Recv . PrimaryArea . SecondaryArea > secondaryAreas = primaryArea . getSecondaryAreaList (); for ( AreaPrimaryList . Recv . PrimaryArea . SecondaryArea secondaryArea : secondaryAreas ) { // \u5b50\u533a\u57df id secondaryArea . getId (); // \u5b50\u533a\u57df\u5bf9\u5e94\u7684\u7236\u533a\u57df id secondaryArea . getParentId (); // \u5b50\u533a\u57df\u540d\u79f0 secondaryArea . getName (); } } } });","title":"\u83b7\u53d6\u533a\u57df\u4fe1\u606f"},{"location":"Device/area/#_3","text":"\u539f\u5219\u4e0a\u7f51\u5173\u4e0d\u5141\u8bb8\u521b\u5efa\u4e3b\u533a\u57df\uff0c\u9700\u8981\u4f7f\u7528\u63d0\u4f9b\u7684\u4e3b\u533a\u57df\uff0c\u5728\u5176\u4e0b\u521b\u5efa\u5b50\u533a\u57df\u3002 Android // \u521b\u5efa\u533a\u57df AreaApi . AreaBuilder builder = new AreaApi . AreaBuilder ( parentId ) // \u4e3b\u533a\u57df\u540d\u79f0 . setName ( \"\u5ba2\u5385\" ) // \u5b50\u533a\u57df\u540d\u79f0 . setImg ( \"00\" ) // \u56fe\u6807\u7531\u5f00\u53d1\u8005\u81ea\u5b9a\u4e49\uff0c\u5bf9\u5e94\u81ea\u5df1\u7684\u56fe\u6807\u6807\u8bc6 . setCreateDate ( new Date ()); AreaApi . editRoom ( hostId , builder , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u521b\u5efa\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u521b\u5efa\u5931\u8d25 } }); // \u4fee\u6539\u533a\u57df AreaApi . AreaBuilder builder = new AreaApi . AreaBuilder ( parentId , areaId ) // \u5982\u679c\u662f\u4fee\u6539\u5b50\u533a\u57df\u4fe1\u606f\uff0c\u4fdd\u6301 areaId \u4e0d\u53d8 . setName ( \"\u5ba2\u5385\" ) . setImg ( \"00\" ) . setCreateDate ( new Date ()); AreaApi . editRoom ( hostId , builder , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u4fee\u6539\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u4fee\u6539\u5931\u8d25 } });","title":"\u521b\u5efa\u3001\u4fee\u6539\u533a\u57df\u4fe1\u606f"},{"location":"Device/area/#_4","text":"Android AreaApi . deleteRoom ( hostId , areaId , parentId , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u5220\u9664\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u5220\u9664\u5931\u8d25 } });","title":"\u5220\u9664\u533a\u57df"},{"location":"Device/area/#_5","text":"","title":"\u533a\u57df\u4e2d\u5bfc\u5165\u3001\u79fb\u9664\u548c\u83b7\u53d6\u8bbe\u5907\u3001\u60c5\u666f"},{"location":"Device/area/#_6","text":"Android AreaApi . AreaObjectBuilder areaObjectBuilder = new AreaApi . AreaObjectBuilder ( area . getId ()); // \u5bfc\u5165\u8bbe\u5907 AreaObjectType objectType = AreaObjectType . device ; DeviceList . Recv . Device device = mDeviceList . get ( position ); areaObjectBuilder . setId ( deviceId ). setName ( deviceName ); // \u5bfc\u5165\u60c5\u666f AreaObjectType objectType = AreaObjectType . scene ; SceneList . Recv . Scene scene = mSceneList . get ( position ); areaObjectBuilder . setId ( sceneId ). setName ( sceneName ); AreaApi . importRoomObject ( hostId , areaId , parentId , objectType , areaObjectBuilder , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u5bfc\u5165\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u5bfc\u5165\u5931\u8d25 } });","title":"\u5bfc\u5165\u8bbe\u5907\u3001\u60c5\u666f"},{"location":"Device/area/#_7","text":"Android AreaObjectType objectType = AreaObjectType . device ; // or AreaObjectType.scene String objectId = deviceId ; // or sceneId AreaApi . deleteRoomObjects ( hostId , areaId , parentId , objectType , objectId , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u79fb\u9664\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u79fb\u9664\u5931\u8d25 } });","title":"\u79fb\u9664\u8bbe\u5907\u3001\u60c5\u666f"},{"location":"Device/area/#_8","text":"Android AreaApi . getRoomObjects ( hostId , area . getId (), area . getParentId (), AreaObjectType . all , new MqttCallback < AreaAllObject . Recv > () { @Override public void onSuccess ( AreaAllObject . Recv recv , int callBackMark , String errorCode ) { AreaAllObject . Recv . Objects objects = recv . getConfig (). get ( 0 ); List < AreaAllObject . Recv . Objects . Object > devices = objects . getDevice (); // \u533a\u57df\u8bbe\u5907\u5217\u8868 List < AreaAllObject . Recv . Objects . Object > scenes = objects . getScene (); // \u533a\u57df\u60c5\u666f\u5217\u8868 for ( AreaAllObject . Recv . Objects . Object device : devices ) { AreaObject object = new AreaObject ( AreaObjectType . device , device ); } for ( AreaAllObject . Recv . Objects . Object scene : scenes ) { AreaObject object = new AreaObject ( AreaObjectType . scene , scene ); } } });","title":"\u83b7\u53d6\u8bbe\u5907\u3001\u60c5\u666f"},{"location":"Device/area/#_9","text":"\u533a\u57df\u4e2d\u63d0\u4f9b\u4e86\u706f\u5149\u8bbe\u5907\u7684\u5168\u5f00\u3001\u5168\u5173\u529f\u80fd\uff08\u5177\u4f53\u652f\u6301\u7684\u8bbe\u5907\u7c7b\u578b\u8bf7\u54a8\u8be2\uff0c\u7f51\u5173\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f1a\u6dfb\u52a0\u6216\u79fb\u9664\u652f\u6301\u7684\u8bbe\u5907\u7c7b\u578b\uff09 Android boolean value = true ; // ture \u5168\u5f00 false \u5168\u5173 AreaApi . controlRoom ( hostId , areaId , parentId , value , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u63a7\u5236\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u63a7\u5236\u5931\u8d25 } });","title":"\u533a\u57df\u5168\u5f00\u3001\u5168\u5173"},{"location":"Device/auto/","text":"\u81ea\u52a8\u5316 \u00b6 \u7f51\u5173\u7684\u81ea\u52a8\u5316\u529f\u80fd\u5305\u62ec\u4e86\u4e09\u4e2a\u65b9\u9762\u3002 \u5b9a\u65f6\u81ea\u52a8\u5316\u3002\u5728\u4e00\u5929\u7684\u67d0\u4e2a\u65f6\u95f4\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c\u3002\u4f8b\u5982\u6bcf\u5929\u65e9\u4e0a\u516b\u70b9\u6253\u5f00\u5ba2\u5385\u7684\u7a97\u5e18\u3002 \u8bbe\u5907\u89e6\u53d1\u81ea\u52a8\u5316\u3002\u4f8b\u5982\u5f00\u5173\u4e00\u6253\u5f00\u4e86\uff0c\u89e6\u53d1\u5f00\u5173\u4e8c\u4e5f\u4e00\u8d77\u6253\u5f00\u3002 \u4f20\u611f\u5668\u72b6\u6001\u53d8\u5316\u89e6\u53d1\u3002\u4f8b\u5982\u95e8\u78c1\u4f20\u611f\u5668\u68c0\u6d4b\u5230\u95e8\u6253\u5f00\u4e86\uff0c\u89e6\u53d1\u95e8\u5eca\u706f\u6253\u5f00\u3002 \u521b\u5efa\u3001\u7f16\u8f91\u81ea\u52a8\u5316 \u00b6 \u521b\u5efa\u81ea\u52a8\u5316\u7684\u6b65\u9aa4 1\u3001\u521b\u5efa\u81ea\u52a8\u5316\u89e6\u53d1\u7684\u6761\u4ef6\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u89e6\u53d1\u5668\u3002 2\u3001\u9009\u62e9\u9700\u8981\u6267\u884c\u7684\u8bbe\u5907\u548c\u60c5\u666f\uff08\u53ef\u4ee5\u53ea\u6709\u8bbe\u5907\u6216\u8005\u53ea\u6709\u60c5\u666f\u6216\u8005\u4e24\u8005\u90fd\u6709\uff0c\u800c\u4e14\u5979\u4eec\u7684\u6570\u91cf\u4e0d\u53d7\u9650\u5236\uff09 \u521b\u5efa\u89e6\u53d1\u5668 \u00b6 1\u3001\u5b9a\u65f6\u7684\u81ea\u52a8\u5316\uff0c\u53ea\u9700\u8981\u521b\u5efa\u4e00\u4e2a Action Android // \u521b\u5efa\u65f6\u95f4\u70b9 \u4f8b\u5982 12:00 Calendar calendar = Calendar . getInstance (); calendar . set ( Calendar . HOUR_OF_DAY , 12 ); calendar . set ( Calendar . MINUTE , 0 ); Date time = calendar . getTime (); AutoApi . ConditionTimeActionBuilder conditionTimeActionBuilder = new AutoApi . ConditionTimeActionBuilder () . setName ( \"\u6bcf\u5929 12\uff1a00 \u89e6\u53d1\u52a8\u4f5c\" ) // \u52a8\u4f5c\u540d\u79f0 . setDescription ( \"\" ) // \u52a8\u4f5c\u91ca\u4e49 . setTime ( time ) // \u65f6\u95f4\u70b9 . setWeekdays ( Weekdays . values ()); // \u661f\u671f\u5468\u671f Weekdays.MONDAY Weekdays.TUESDAY \u7b49\uff0c\u8fd9\u91cc\u53ef\u4ee5\u586b\u5165\u4e00\u4e2a\u6216\u591a\u4e2a List < AutoApi . ConditionActionBuilder > conditionActionBuilders = new ArrayList <> (); conditionActionBuilders . add ( conditionTimeActionBuilder ); AutoApi . ConditionBuilder conditionBuilder = new AutoApi . ConditionBuilder () . setName ( \"\u6bcf\u5929 12\uff1a00 \u89e6\u53d1\u6761\u4ef6\" ) // \u89e6\u53d1\u5668\u540d\u79f0 . setDescription ( \"\u6bcf\u5929 12\uff1a00 \u89e6\u53d1\u6761\u4ef6\" ) // \u89e6\u53d1\u5668\u91ca\u4e49 . setCreateDate ( new Date ()) // \u89e6\u53d1\u5668\u7684\u521b\u5efa\u65f6\u95f4 . setAction ( conditionActionBuilders ); // \u5c06\u4e0a\u9762\u521b\u5efa\u7684\u52a8\u4f5c\u4f20\u5165 2\u3001\u8bbe\u5907\u89e6\u53d1\u81ea\u52a8\u5316\u3001\u4f20\u611f\u5668\u89e6\u53d1\u81ea\u52a8\u5316\uff0c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65f6\u95f4 Action\uff0c\u4e00\u4e2a\u8bbe\u5907 Action Android // \u65f6\u95f4 Action AutoApi . ConditionTimeActionBuilder conditionTimeActionBuilder = new AutoApi . ConditionTimeActionBuilder () . setName ( \"\u661f\u671f\u4e00\u5230\u661f\u671f\u4e94 08:30-18:30\" ) // \u52a8\u4f5c\u540d\u79f0 . setDescription ( \"\u5de5\u4f5c\u65e5\" ) // \u52a8\u4f5c\u91ca\u4e49 . setTime ( startTime , endTime ) // \u65f6\u95f4\u6bb5\uff0c\u5982\u679c\u662f\u67d0\u4e2a\u65f6\u95f4\u5c31\u8c03\u7528 setTime(Date) . setWeekdays ( Weekdays . MONDAY , Weekdays . TUESDAY , Weekdays . WEDNESDAY , Weekdays . THURSDAY , Weekdays . FRIDAY ); // \u661f\u671f // \u8bbe\u5907 Action AutoApi . ConditionDeviceActionBuilder triggerDeviceActionBuilder = new AutoApi . ConditionDeviceActionBuilder () . setDeviceId ( device . getDeviceId ()) // \u8bbe\u5907 id . setDeviceName ( device . getDeviceName ()) // \u8bbe\u5907\u540d\u79f0 . setDeviceType ( device . getDeviceType () + device . getZoneId ()) // \u8bbe\u5907\u7c7b\u578b . setKey ( \"onoff\" ) // \u89e6\u53d1\u65f6\u7684\u72b6\u6001\u53c2\u6570 . setValue ( \"on\" ) // \u89e6\u53d1\u65f6\u7684\u503c . setDescription ( \"\u5f53\" + device . getDeviceName () + \"\u6253\u5f00\u7684\u65f6\u5019\" ); // \u91ca\u4e49 List < AutoApi . ConditionActionBuilder > conditionActionBuilders = new ArrayList <> (); conditionActionBuilders . add ( conditionTimeActionBuilder ); conditionActionBuilders . add ( triggerDeviceActionBuilder ); AutoApi . ConditionBuilder conditionBuilder = new AutoApi . ConditionBuilder () . setName ( \"\u661f\u671f\u4e00\u5230\u661f\u671f\u4e94 08:30-18:30 \u5f53[\" + device . getDeviceName () + \"]\u6253\u5f00\u7684\u65f6\u5019\" ) // \u89e6\u53d1\u5668\u7684\u540d\u79f0 . setDescription ( \"\u661f\u671f\u4e00\u5230\u661f\u671f\u4e94 08:30-18:30 \u5f53[\" + device . getDeviceName () + \"]\u6253\u5f00\u7684\u65f6\u5019\" ) // \u89e6\u53d1\u5668\u7684\u91ca\u4e49 . setCreateDate ( new Date ()) // \u89e6\u53d1\u5668\u7684\u521b\u5efa\u65f6\u95f4 . setAction ( conditionActionBuilders ); // \u5c06\u4e0a\u9762\u521b\u5efa\u7684\u65f6\u95f4 Action \u548c\u8bbe\u5907 Action \u95ef\u5165 \u4f20\u611f\u5668\u548c\u8bbe\u5907\u8bbe\u7f6e\u662f\u4e00\u6837\u7684 \u521b\u5efa\u6267\u884c\u52a8\u4f5c \u00b6 \u5728\u4e0a\u9762\u8bbe\u7f6e\u89e6\u53d1\u5668\u6210\u529f\u540e\uff0c\u5f00\u59cb\u8bbe\u7f6e\u81ea\u52a8\u5316\u7684\u6267\u884c\u52a8\u4f5c\u53c2\u6570\u3002 \u6267\u884c\u52a8\u4f5c\u53ef\u4ee5\u662f\u8bbe\u5907\uff08\u6216\u591a\u4e2a\u8bbe\u5907\uff09\u548c\u60c5\u666f\uff08\u6216\u591a\u4e2a\u60c5\u666f\uff09\uff0c\u6216\u8005\u8bbe\u5907\u548c\u60c5\u666f\u90fd\u6709\uff0c\u4f46\u81f3\u5c11\u9700\u8981\u6709\u4e00\u4e2a\u8bbe\u5907\u6216\u4e00\u4e2a\u60c5\u666f Android // \u5982\u679c\u662f\u7f16\u8f91\u81ea\u52a8\u5316\uff0c\u5c31\u4fdd\u6301\u81ea\u52a8\u5316\u7684 id \u4e0d\u53d8 AutoApi.AutoBuilder(autoId) AutoApi . AutoBuilder autoBuilder = new AutoApi . AutoBuilder (); // \u5c06\u4e0a\u9762\u6b65\u9aa4\u521b\u5efa\u7684\u89e6\u53d1\u5668\u95ef\u5165 autoBuilder . setCondition ( conditionBuilder ); // \u6267\u884c\u7684\u8bbe\u5907\uff08\u53ef\u4ee5\u4e00\u4e2a\u6216\u591a\u4e2a\uff09 ArrayList < AutoApi . AutoActionBuilder > actionBuilders = new ArrayList <> (); AutoApi . AutoDeviceActionBuilder autoDeviceActionBuilder = new AutoApi . AutoDeviceActionBuilder () . setDeviceId ( device . getDeviceId ()) // \u8bbe\u5907 id . setDeviceType ( device . getDeviceType () + device . getZoneId ()) // \u8bbe\u5907\u7c7b\u578b . setKey ( \"status\" ) // \u6267\u884c\u7684\u53c2\u6570\u540d . setValue ( \"on\" ) // \u6267\u884c\u7684\u503c . setOrderIndex ( \"0\" ) // \u6709\u591a\u4e2a\u8bbe\u5907\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f . setDelayTime ( \"0\" ); // \u6709\u591a\u4e2a\u8bbe\u5907\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4ed6\u4eec\u4e4b\u524d\u7684\u95f4\u9694 actionBuilders . add ( autoDeviceActionBuilder ); autoBuilder . setActions ( actionBuilders ); // \u6267\u884c\u7684\u60c5\u666f\uff08\u53ef\u4ee5\u4e00\u4e2a\u6216\u591a\u4e2a\uff09 ArrayList < AutoApi . AutoSceneBuilder > autoSceneBuilders = new ArrayList <> (); AutoApi . AutoSceneBuilder autoSceneBuilder = new AutoApi . AutoSceneBuilder ( scene . getId ()) . setName ( scene . getName ()) // \u60c5\u666f\u7684\u540d\u79f0 . setImg ( \"0\" ) // \u60c5\u666f\u7684\u56fe\u6807\u7c7b\u578b\uff08\u81ea\u884c\u5b9a\u4e49\uff09 . setOrderIndex ( \"0\" ); // \u6709\u591a\u4e2a\u60c5\u666f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f autoSceneBuilders . add ( autoSceneBuilder ); autoBuilder . setScenes ( autoSceneBuilders ); autoBuilder . setName ( \"\u81ea\u52a8\u5316\" ) // \u81ea\u52a8\u5316\u540d\u79f0 . enablePushMessage ( false ) // \u6d88\u606f\u662f\u5426\u5f00\u542f\u63a8\u9001\uff0c\u63a8\u9001\u662f\u8d70\u7684\u63a8\u9001\u5382\u5546\uff08\u4f8b\u5982\u6781\u5149\u63a8\u9001\uff0c\u8fd9\u4e2a\u9700\u8981\u8054\u7cfb\u5f00\u53d1\u83b7\u53d6\u66f4\u591a\u529f\u80fd\uff09 . setType ( AutoType . device ) // \u81ea\u52a8\u5316\u7684\u7c7b\u578b time\u5b9a\u65f6 device\u8bbe\u5907 linkage\u4f20\u611f\u5668 . setCreateDate ( new Date ()); // \u521b\u5efa\u65f6\u95f4 AutoApi . edit ( hostId , autoBuilder , new MqttCallback <> ()); \u5220\u9664\u81ea\u52a8\u5316 \u00b6 Android AutoApi . delete ( hostId , auto . getId (), new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u5220\u9664\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u5220\u9664\u5931\u8d25 } }); \u542f\u7528\uff0c\u5173\u95ed\u81ea\u52a8\u5316 \u00b6 \u5173\u95ed\u81ea\u52a8\u5316\u4e4b\u540e\uff0c\u8be5\u81ea\u52a8\u5316\u4e0d\u4f1a\u518d\u89e6\u53d1\u3002 Android boolean value = true ; // true \u542f\u7528 false \u5173\u95ed AutoApi . editAutoStatus ( hostId , auto . getId (), true , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u8bbe\u7f6e\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u8bbe\u7f6e\u5931\u8d25 } });","title":"\u81ea\u52a8\u5316"},{"location":"Device/auto/#_1","text":"\u7f51\u5173\u7684\u81ea\u52a8\u5316\u529f\u80fd\u5305\u62ec\u4e86\u4e09\u4e2a\u65b9\u9762\u3002 \u5b9a\u65f6\u81ea\u52a8\u5316\u3002\u5728\u4e00\u5929\u7684\u67d0\u4e2a\u65f6\u95f4\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c\u3002\u4f8b\u5982\u6bcf\u5929\u65e9\u4e0a\u516b\u70b9\u6253\u5f00\u5ba2\u5385\u7684\u7a97\u5e18\u3002 \u8bbe\u5907\u89e6\u53d1\u81ea\u52a8\u5316\u3002\u4f8b\u5982\u5f00\u5173\u4e00\u6253\u5f00\u4e86\uff0c\u89e6\u53d1\u5f00\u5173\u4e8c\u4e5f\u4e00\u8d77\u6253\u5f00\u3002 \u4f20\u611f\u5668\u72b6\u6001\u53d8\u5316\u89e6\u53d1\u3002\u4f8b\u5982\u95e8\u78c1\u4f20\u611f\u5668\u68c0\u6d4b\u5230\u95e8\u6253\u5f00\u4e86\uff0c\u89e6\u53d1\u95e8\u5eca\u706f\u6253\u5f00\u3002","title":"\u81ea\u52a8\u5316"},{"location":"Device/auto/#_2","text":"\u521b\u5efa\u81ea\u52a8\u5316\u7684\u6b65\u9aa4 1\u3001\u521b\u5efa\u81ea\u52a8\u5316\u89e6\u53d1\u7684\u6761\u4ef6\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u89e6\u53d1\u5668\u3002 2\u3001\u9009\u62e9\u9700\u8981\u6267\u884c\u7684\u8bbe\u5907\u548c\u60c5\u666f\uff08\u53ef\u4ee5\u53ea\u6709\u8bbe\u5907\u6216\u8005\u53ea\u6709\u60c5\u666f\u6216\u8005\u4e24\u8005\u90fd\u6709\uff0c\u800c\u4e14\u5979\u4eec\u7684\u6570\u91cf\u4e0d\u53d7\u9650\u5236\uff09","title":"\u521b\u5efa\u3001\u7f16\u8f91\u81ea\u52a8\u5316"},{"location":"Device/auto/#_3","text":"1\u3001\u5b9a\u65f6\u7684\u81ea\u52a8\u5316\uff0c\u53ea\u9700\u8981\u521b\u5efa\u4e00\u4e2a Action Android // \u521b\u5efa\u65f6\u95f4\u70b9 \u4f8b\u5982 12:00 Calendar calendar = Calendar . getInstance (); calendar . set ( Calendar . HOUR_OF_DAY , 12 ); calendar . set ( Calendar . MINUTE , 0 ); Date time = calendar . getTime (); AutoApi . ConditionTimeActionBuilder conditionTimeActionBuilder = new AutoApi . ConditionTimeActionBuilder () . setName ( \"\u6bcf\u5929 12\uff1a00 \u89e6\u53d1\u52a8\u4f5c\" ) // \u52a8\u4f5c\u540d\u79f0 . setDescription ( \"\" ) // \u52a8\u4f5c\u91ca\u4e49 . setTime ( time ) // \u65f6\u95f4\u70b9 . setWeekdays ( Weekdays . values ()); // \u661f\u671f\u5468\u671f Weekdays.MONDAY Weekdays.TUESDAY \u7b49\uff0c\u8fd9\u91cc\u53ef\u4ee5\u586b\u5165\u4e00\u4e2a\u6216\u591a\u4e2a List < AutoApi . ConditionActionBuilder > conditionActionBuilders = new ArrayList <> (); conditionActionBuilders . add ( conditionTimeActionBuilder ); AutoApi . ConditionBuilder conditionBuilder = new AutoApi . ConditionBuilder () . setName ( \"\u6bcf\u5929 12\uff1a00 \u89e6\u53d1\u6761\u4ef6\" ) // \u89e6\u53d1\u5668\u540d\u79f0 . setDescription ( \"\u6bcf\u5929 12\uff1a00 \u89e6\u53d1\u6761\u4ef6\" ) // \u89e6\u53d1\u5668\u91ca\u4e49 . setCreateDate ( new Date ()) // \u89e6\u53d1\u5668\u7684\u521b\u5efa\u65f6\u95f4 . setAction ( conditionActionBuilders ); // \u5c06\u4e0a\u9762\u521b\u5efa\u7684\u52a8\u4f5c\u4f20\u5165 2\u3001\u8bbe\u5907\u89e6\u53d1\u81ea\u52a8\u5316\u3001\u4f20\u611f\u5668\u89e6\u53d1\u81ea\u52a8\u5316\uff0c\u9700\u8981\u521b\u5efa\u4e00\u4e2a\u65f6\u95f4 Action\uff0c\u4e00\u4e2a\u8bbe\u5907 Action Android // \u65f6\u95f4 Action AutoApi . ConditionTimeActionBuilder conditionTimeActionBuilder = new AutoApi . ConditionTimeActionBuilder () . setName ( \"\u661f\u671f\u4e00\u5230\u661f\u671f\u4e94 08:30-18:30\" ) // \u52a8\u4f5c\u540d\u79f0 . setDescription ( \"\u5de5\u4f5c\u65e5\" ) // \u52a8\u4f5c\u91ca\u4e49 . setTime ( startTime , endTime ) // \u65f6\u95f4\u6bb5\uff0c\u5982\u679c\u662f\u67d0\u4e2a\u65f6\u95f4\u5c31\u8c03\u7528 setTime(Date) . setWeekdays ( Weekdays . MONDAY , Weekdays . TUESDAY , Weekdays . WEDNESDAY , Weekdays . THURSDAY , Weekdays . FRIDAY ); // \u661f\u671f // \u8bbe\u5907 Action AutoApi . ConditionDeviceActionBuilder triggerDeviceActionBuilder = new AutoApi . ConditionDeviceActionBuilder () . setDeviceId ( device . getDeviceId ()) // \u8bbe\u5907 id . setDeviceName ( device . getDeviceName ()) // \u8bbe\u5907\u540d\u79f0 . setDeviceType ( device . getDeviceType () + device . getZoneId ()) // \u8bbe\u5907\u7c7b\u578b . setKey ( \"onoff\" ) // \u89e6\u53d1\u65f6\u7684\u72b6\u6001\u53c2\u6570 . setValue ( \"on\" ) // \u89e6\u53d1\u65f6\u7684\u503c . setDescription ( \"\u5f53\" + device . getDeviceName () + \"\u6253\u5f00\u7684\u65f6\u5019\" ); // \u91ca\u4e49 List < AutoApi . ConditionActionBuilder > conditionActionBuilders = new ArrayList <> (); conditionActionBuilders . add ( conditionTimeActionBuilder ); conditionActionBuilders . add ( triggerDeviceActionBuilder ); AutoApi . ConditionBuilder conditionBuilder = new AutoApi . ConditionBuilder () . setName ( \"\u661f\u671f\u4e00\u5230\u661f\u671f\u4e94 08:30-18:30 \u5f53[\" + device . getDeviceName () + \"]\u6253\u5f00\u7684\u65f6\u5019\" ) // \u89e6\u53d1\u5668\u7684\u540d\u79f0 . setDescription ( \"\u661f\u671f\u4e00\u5230\u661f\u671f\u4e94 08:30-18:30 \u5f53[\" + device . getDeviceName () + \"]\u6253\u5f00\u7684\u65f6\u5019\" ) // \u89e6\u53d1\u5668\u7684\u91ca\u4e49 . setCreateDate ( new Date ()) // \u89e6\u53d1\u5668\u7684\u521b\u5efa\u65f6\u95f4 . setAction ( conditionActionBuilders ); // \u5c06\u4e0a\u9762\u521b\u5efa\u7684\u65f6\u95f4 Action \u548c\u8bbe\u5907 Action \u95ef\u5165 \u4f20\u611f\u5668\u548c\u8bbe\u5907\u8bbe\u7f6e\u662f\u4e00\u6837\u7684","title":"\u521b\u5efa\u89e6\u53d1\u5668"},{"location":"Device/auto/#_4","text":"\u5728\u4e0a\u9762\u8bbe\u7f6e\u89e6\u53d1\u5668\u6210\u529f\u540e\uff0c\u5f00\u59cb\u8bbe\u7f6e\u81ea\u52a8\u5316\u7684\u6267\u884c\u52a8\u4f5c\u53c2\u6570\u3002 \u6267\u884c\u52a8\u4f5c\u53ef\u4ee5\u662f\u8bbe\u5907\uff08\u6216\u591a\u4e2a\u8bbe\u5907\uff09\u548c\u60c5\u666f\uff08\u6216\u591a\u4e2a\u60c5\u666f\uff09\uff0c\u6216\u8005\u8bbe\u5907\u548c\u60c5\u666f\u90fd\u6709\uff0c\u4f46\u81f3\u5c11\u9700\u8981\u6709\u4e00\u4e2a\u8bbe\u5907\u6216\u4e00\u4e2a\u60c5\u666f Android // \u5982\u679c\u662f\u7f16\u8f91\u81ea\u52a8\u5316\uff0c\u5c31\u4fdd\u6301\u81ea\u52a8\u5316\u7684 id \u4e0d\u53d8 AutoApi.AutoBuilder(autoId) AutoApi . AutoBuilder autoBuilder = new AutoApi . AutoBuilder (); // \u5c06\u4e0a\u9762\u6b65\u9aa4\u521b\u5efa\u7684\u89e6\u53d1\u5668\u95ef\u5165 autoBuilder . setCondition ( conditionBuilder ); // \u6267\u884c\u7684\u8bbe\u5907\uff08\u53ef\u4ee5\u4e00\u4e2a\u6216\u591a\u4e2a\uff09 ArrayList < AutoApi . AutoActionBuilder > actionBuilders = new ArrayList <> (); AutoApi . AutoDeviceActionBuilder autoDeviceActionBuilder = new AutoApi . AutoDeviceActionBuilder () . setDeviceId ( device . getDeviceId ()) // \u8bbe\u5907 id . setDeviceType ( device . getDeviceType () + device . getZoneId ()) // \u8bbe\u5907\u7c7b\u578b . setKey ( \"status\" ) // \u6267\u884c\u7684\u53c2\u6570\u540d . setValue ( \"on\" ) // \u6267\u884c\u7684\u503c . setOrderIndex ( \"0\" ) // \u6709\u591a\u4e2a\u8bbe\u5907\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f . setDelayTime ( \"0\" ); // \u6709\u591a\u4e2a\u8bbe\u5907\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4ed6\u4eec\u4e4b\u524d\u7684\u95f4\u9694 actionBuilders . add ( autoDeviceActionBuilder ); autoBuilder . setActions ( actionBuilders ); // \u6267\u884c\u7684\u60c5\u666f\uff08\u53ef\u4ee5\u4e00\u4e2a\u6216\u591a\u4e2a\uff09 ArrayList < AutoApi . AutoSceneBuilder > autoSceneBuilders = new ArrayList <> (); AutoApi . AutoSceneBuilder autoSceneBuilder = new AutoApi . AutoSceneBuilder ( scene . getId ()) . setName ( scene . getName ()) // \u60c5\u666f\u7684\u540d\u79f0 . setImg ( \"0\" ) // \u60c5\u666f\u7684\u56fe\u6807\u7c7b\u578b\uff08\u81ea\u884c\u5b9a\u4e49\uff09 . setOrderIndex ( \"0\" ); // \u6709\u591a\u4e2a\u60c5\u666f\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u8fdb\u884c\u6392\u5e8f autoSceneBuilders . add ( autoSceneBuilder ); autoBuilder . setScenes ( autoSceneBuilders ); autoBuilder . setName ( \"\u81ea\u52a8\u5316\" ) // \u81ea\u52a8\u5316\u540d\u79f0 . enablePushMessage ( false ) // \u6d88\u606f\u662f\u5426\u5f00\u542f\u63a8\u9001\uff0c\u63a8\u9001\u662f\u8d70\u7684\u63a8\u9001\u5382\u5546\uff08\u4f8b\u5982\u6781\u5149\u63a8\u9001\uff0c\u8fd9\u4e2a\u9700\u8981\u8054\u7cfb\u5f00\u53d1\u83b7\u53d6\u66f4\u591a\u529f\u80fd\uff09 . setType ( AutoType . device ) // \u81ea\u52a8\u5316\u7684\u7c7b\u578b time\u5b9a\u65f6 device\u8bbe\u5907 linkage\u4f20\u611f\u5668 . setCreateDate ( new Date ()); // \u521b\u5efa\u65f6\u95f4 AutoApi . edit ( hostId , autoBuilder , new MqttCallback <> ());","title":"\u521b\u5efa\u6267\u884c\u52a8\u4f5c"},{"location":"Device/auto/#_5","text":"Android AutoApi . delete ( hostId , auto . getId (), new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u5220\u9664\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u5220\u9664\u5931\u8d25 } });","title":"\u5220\u9664\u81ea\u52a8\u5316"},{"location":"Device/auto/#_6","text":"\u5173\u95ed\u81ea\u52a8\u5316\u4e4b\u540e\uff0c\u8be5\u81ea\u52a8\u5316\u4e0d\u4f1a\u518d\u89e6\u53d1\u3002 Android boolean value = true ; // true \u542f\u7528 false \u5173\u95ed AutoApi . editAutoStatus ( hostId , auto . getId (), true , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u8bbe\u7f6e\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u8bbe\u7f6e\u5931\u8d25 } });","title":"\u542f\u7528\uff0c\u5173\u95ed\u81ea\u52a8\u5316"},{"location":"Device/scene/","text":"\u60c5\u666f \u00b6 \u7f51\u5173\u7684\u60c5\u666f\u529f\u80fd\u5373\u662f\u8bbe\u7f6e\u4e00\u7ec4\u52a8\u4f5c\uff0c\u5728\u5176\u4e2d\u8bbe\u7f6e\u591a\u4e2a\u8bbe\u5907\u7684\u63a7\u5236\u72b6\u6001\uff0c\u5728\u89e6\u53d1\u60c5\u666f\u65f6\u4e00\u8d77\u6267\u884c\u8fd9\u4e9b\u72b6\u6001\u63a7\u5236\uff0c\u5217\u5982\u56de\u5bb6\u60c5\u666f\uff0c\u91cc\u9762\u8bbe\u7f6e\u4e86\u5ba2\u5385\u591a\u76cf\u706f\u4e00\u8d77\u5f00\u542f\u3002 \u6dfb\u52a0\u3001\u4fee\u6539\u60c5\u666f \u00b6 Android SceneApi . SceneActionBuilder sceneActionBuilder = new SceneApi . SceneActionBuilder () . setDeviceId ( device . getDeviceId ()) // \u8bbe\u5907\u540d\u79f0 . setDeviceType ( device . getDeviceType ()) // \u8bbe\u5907\u7c7b\u578b . setDeviceName ( device . getDeviceName ()) // \u8bbe\u5907\u540d\u79f0 . setAttrId ( \"status\" ) // \u63a7\u5236\u53c2\u6570 . setAttrValue ( \"on\" ) // \u63a7\u5236\u503c . setOrder ( \"0\" ) // \u987a\u5e8f . setDelayTime ( \"0\" ); // \u95f4\u9694\u65f6\u95f4 \u79d2 SceneApi . SceneBuilder builder = new SceneApi . SceneBuilder ( hostId ); ArrayList < SceneApi . SceneActionBuilder > sceneActionBuilders = new ArrayList <> (); sceneActionBuilders . add ( sceneActionBuilder ); builder . setImg ( \"00\" ) // \u56fe\u6807\u7531\u5f00\u53d1\u8005\u81ea\u5b9a\u4e49\uff0c\u5bf9\u5e94\u81ea\u5df1\u7684\u56fe\u6807\u6807\u8bc6 . setName ( \"\u56de\u5bb6\u60c5\u666f\" ) . setConfig ( sceneActionBuilders ); // \u7f16\u8f91\u60c5\u666f\u7684\u8bdd\uff0c\u4fdd\u6301\u60c5\u666f id \u4e0d\u53d8 SceneApi.SceneBuilder(hostId, sceneId); SceneApi.SceneActionBuilder(actionId) SceneApi . edit ( hostId , builder , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u521b\u5efa\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u521b\u5efa\u5931\u8d25 } }); \u5220\u9664\u60c5\u666f \u00b6 Android SceneApi . delete ( hostId , sceneId , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u5220\u9664\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u5220\u9664\u5931\u8d25 } }); \u83b7\u53d6\u60c5\u666f\u5217\u8868 \u00b6 Android SceneApi . getList ( hostId , new MqttCallback < SceneList . Recv > () { @Override public void onSuccess ( SceneList . Recv recv , int callBackMark , String errorCode ) { // \u60c5\u666f\u5217\u8868 List < SceneList . Recv . Scene > list = recv . getConfig () } }); \u83b7\u53d6\u67d0\u4e2a\u60c5\u666f\u8be6\u60c5 \u00b6 Android SceneApi . getDetail ( hostId , sceneId , new MqttCallback < com . vensi . mqtt . sdk . bean . scene . SceneDetail . Recv > () { @Override public void onSuccess ( SceneDetail . Recv recv , int callBackMark , String errorCode ) { } }); \u89e6\u53d1\u60c5\u666f \u00b6 Android SceneApi . control ( hostId , sceneId , new MqttCallback <> ()));","title":"\u60c5\u666f"},{"location":"Device/scene/#_1","text":"\u7f51\u5173\u7684\u60c5\u666f\u529f\u80fd\u5373\u662f\u8bbe\u7f6e\u4e00\u7ec4\u52a8\u4f5c\uff0c\u5728\u5176\u4e2d\u8bbe\u7f6e\u591a\u4e2a\u8bbe\u5907\u7684\u63a7\u5236\u72b6\u6001\uff0c\u5728\u89e6\u53d1\u60c5\u666f\u65f6\u4e00\u8d77\u6267\u884c\u8fd9\u4e9b\u72b6\u6001\u63a7\u5236\uff0c\u5217\u5982\u56de\u5bb6\u60c5\u666f\uff0c\u91cc\u9762\u8bbe\u7f6e\u4e86\u5ba2\u5385\u591a\u76cf\u706f\u4e00\u8d77\u5f00\u542f\u3002","title":"\u60c5\u666f"},{"location":"Device/scene/#_2","text":"Android SceneApi . SceneActionBuilder sceneActionBuilder = new SceneApi . SceneActionBuilder () . setDeviceId ( device . getDeviceId ()) // \u8bbe\u5907\u540d\u79f0 . setDeviceType ( device . getDeviceType ()) // \u8bbe\u5907\u7c7b\u578b . setDeviceName ( device . getDeviceName ()) // \u8bbe\u5907\u540d\u79f0 . setAttrId ( \"status\" ) // \u63a7\u5236\u53c2\u6570 . setAttrValue ( \"on\" ) // \u63a7\u5236\u503c . setOrder ( \"0\" ) // \u987a\u5e8f . setDelayTime ( \"0\" ); // \u95f4\u9694\u65f6\u95f4 \u79d2 SceneApi . SceneBuilder builder = new SceneApi . SceneBuilder ( hostId ); ArrayList < SceneApi . SceneActionBuilder > sceneActionBuilders = new ArrayList <> (); sceneActionBuilders . add ( sceneActionBuilder ); builder . setImg ( \"00\" ) // \u56fe\u6807\u7531\u5f00\u53d1\u8005\u81ea\u5b9a\u4e49\uff0c\u5bf9\u5e94\u81ea\u5df1\u7684\u56fe\u6807\u6807\u8bc6 . setName ( \"\u56de\u5bb6\u60c5\u666f\" ) . setConfig ( sceneActionBuilders ); // \u7f16\u8f91\u60c5\u666f\u7684\u8bdd\uff0c\u4fdd\u6301\u60c5\u666f id \u4e0d\u53d8 SceneApi.SceneBuilder(hostId, sceneId); SceneApi.SceneActionBuilder(actionId) SceneApi . edit ( hostId , builder , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u521b\u5efa\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u521b\u5efa\u5931\u8d25 } });","title":"\u6dfb\u52a0\u3001\u4fee\u6539\u60c5\u666f"},{"location":"Device/scene/#_3","text":"Android SceneApi . delete ( hostId , sceneId , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u5220\u9664\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u5220\u9664\u5931\u8d25 } });","title":"\u5220\u9664\u60c5\u666f"},{"location":"Device/scene/#_4","text":"Android SceneApi . getList ( hostId , new MqttCallback < SceneList . Recv > () { @Override public void onSuccess ( SceneList . Recv recv , int callBackMark , String errorCode ) { // \u60c5\u666f\u5217\u8868 List < SceneList . Recv . Scene > list = recv . getConfig () } });","title":"\u83b7\u53d6\u60c5\u666f\u5217\u8868"},{"location":"Device/scene/#_5","text":"Android SceneApi . getDetail ( hostId , sceneId , new MqttCallback < com . vensi . mqtt . sdk . bean . scene . SceneDetail . Recv > () { @Override public void onSuccess ( SceneDetail . Recv recv , int callBackMark , String errorCode ) { } });","title":"\u83b7\u53d6\u67d0\u4e2a\u60c5\u666f\u8be6\u60c5"},{"location":"Device/scene/#_6","text":"Android SceneApi . control ( hostId , sceneId , new MqttCallback <> ()));","title":"\u89e6\u53d1\u60c5\u666f"},{"location":"Device/status/","text":"\u8bbe\u5907\u63a7\u5236\uff0c\u72b6\u6001\u76d1\u542c \u00b6 \u8bbe\u5907\u63a7\u5236 \u00b6 \u4e00\u822c\u7684 zigbee \u8bbe\u5907\u6211\u4eec\u901a\u8fc7\u4e00\u4e0b\u63a5\u53e3\u8fdb\u884c\u72b6\u6001\u7684\u63a7\u5236\uff0c\u5176\u4ed6\u7279\u6b8a\u7684\u8bbe\u5907\u63a7\u5236\u8bf7\u67e5\u770b**\u7279\u6b8a\u8bbe\u5907\u8bf4\u660e** Android // \u63a7\u5236\u67d0\u4e2a\u8bbe\u5907\u7684\u72b6\u6001 // \u67e5\u770b\u4e0b\u9762\u9644\u5f55\u4e00\u67e5\u770b\u4e0d\u540c\u8bbe\u5907\u5bf9\u5e94\u7684 controlKey \u548c controlValue \u503c DeviceApi . control ( String hostId , String deviceId , String deviceType , String zoneId , String controlKey , String controlValue , IBaseCallback < String > callback ) \u72b6\u6001\u76d1\u542c \u00b6 Android // \u4e3b\u52a8\u83b7\u53d6\u8bbe\u5907\u72b6\u6001 // \u83b7\u53d6\u591a\u4e2a\u8bbe\u5907\u72b6\u6001 List < DeviceState . Publish . DeviceInfo > deviceInfoList = new ArrayList <> (); for ( DeviceList . Recv . Device device : mDevices ) { DeviceState . Publish . DeviceInfo info = new DeviceState . Publish . DeviceInfo (); info . setId ( device . getDeviceId ()); info . setDeviceType ( device . getDeviceType ()); info . setZoneId ( device . getZoneId ()); deviceInfoList . add ( info ); } DeviceApi . getStatus ( hostId , deviceInfoList , new MqttCallback < DeviceState . Recv > () { @Override public void onSuccess ( DeviceState . Recv recv , int callBackMark , String errorCode ) { // \u591a\u4e2a\u8bbe\u5907\u7684\u72b6\u6001 recv . getStateList (); } }); // \u83b7\u53d6\u67d0\u4e2a\u8bbe\u5907\u72b6\u6001 DeviceApi . getStatus ( hostId , deviceId , deviceType , zoneId , new MqttCallback < DeviceState . Recv > () { @Override public void onSuccess ( DeviceState . Recv recv , int callBackMark , String errorCode ) { // \u67d0\u4e2a\u8bbe\u5907\u7684\u72b6\u6001 recv . getStateList (). get ( 0 ); } }); // \u72b6\u6001\u76d1\u542c ReportMsgApi . setOnDeviceReport ( new ReportMsgApi . OnDeviceReport () { // ... @Override public void onStatusReport ( DeviceStateRecv recv ) { // \u8bbe\u5907\u72b6\u6001\u4e0a\u62a5 } @Override public void onSensorStatusReport ( DeviceSensorReportRecv recv ) { // \u4f20\u611f\u5668\u72b6\u6001\u4e0a\u62a5 } @Override public void onSensorStatusReport ( DeviceSensorReportRecv recv ) { // \u83b7\u53d6\u591a\u4e2a\u8bbe\u5907\u72b6\u6001, \u5f53\u83b7\u53d6\u4e0d\u540c\u6a21\u5757\u7684\u8bbe\u5907\u72b6\u6001\u65f6\uff0c\u7f51\u5173\u4f1a\u5206\u51e0\u6b21\u4e0a\u62a5\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u7528\u8be5\u63a5\u53e3\u4e86 } }); \u9644\u5f55\u4e00 \u8bbe\u5907\u5bf9\u5e94\u7684\u63a7\u5236\u503c \u00b6 \u8bbe\u5907\u540d\u79f0 \u63a7\u5236\u53c2\u6570 \u63a7\u5236\u503c \u5f00\u5173 onoff on/off \u8c03\u5149\u706f onoff on/off 0~100:\u4eae\u5ea6 \u5f69\u706f onoff on/off 0~100:\u4eae\u5ea6 254#254#254(hsl, \u503c\u8303\u56f4\u662f 0 ~ 254), \u6ce8\u610f, \u6700\u540e\u2f00\u4e2a l \u662f\u2f46\u6548\u7684) \u2f8a\u6e29\u706f onoff on/off \u2f8a\u6e29\u706f color_temp \u9ed8\u8ba4\u662f0~500\uff0c\u67d0\u4e9b\u8bbe\u5907\u4f1a\u4e0a\u62a5\u81ea\u5df1\u7684\u8272\u6e29\u8303\u56f4\uff0c\u5df2\u4e0a\u62a5\u7684\u4e3a\u51c6 \u63d2\u5ea7 onoff on/off \u7a97\u5e18\u5f00\u5173 onoff open/close/stop \u7a97\u5e18\u7535\u673a onoff \u8fdb\u5ea60~100 \u7535\u6e90\u63a7\u5236\u5668 onoff on/off \u667e\u2f90\u673a motor \u79fb\u52a8\u7535\u673a\u4f4d\u7f6e rising/falling/stop \u667e\u2f90\u673a lighting \u7167\u660e on/off \u667e\u2f90\u673a heating \u70d8\u2f32 on/off \u667e\u2f90\u673a heating_time \u70d8\u2f32\u65f6\u95f4 1~180(min) \u667e\u2f90\u673a wind \u2edb\u2f32 on/off \u667e\u2f90\u673a wind_time \u2edb\u2f32\u65f6\u95f4 1~180(min) \u667e\u2f90\u673a disinfection \u6d88\u6bd2 on/off \u667e\u2f90\u673a disinfection_time \u6d88\u6bd2\u65f6\u95f4 1~30(min) \u58f0\u5149\u62a5\u8b66\u5668 onoff on: \u6253\u5f00\u9ed8\u8ba4\u62a5\u8b66\u6a21\u5f0f off: \u5173\u95ed\u62a5\u8b66 strobe: \u95ea\u706f\u62a5\u8b66 siren: \u58f0\u2fb3\u62a5\u8b66 strobe-siren:\u58f0\u5149\u62a5\u8b66 door:\u7834\u2ed4\u62a5\u8b66 fire:\u2f55\u8b66 sos:sos\u7d27\u6025\u62a5\u8b66 leak:\u6f0f\u2f54\u62a5\u8b66 gas:\u70df\u96fe\u62a5\u8b66 \u58f0\u5149\u62a5\u8b66\u5668 warn_mode \u62a5\u8b66\u6a21\u5f0f strobe:\u95ea\u706f\u62a5\u8b66 siren:\u58f0\u2fb3\u62a5\u8b66 strobe-siren:\u58f0\u5149\u62a5\u8b66 \u58f0\u5149\u62a5\u8b66\u5668 duration \u62a5\u8b66\u6301\u7eed\u65f6\u2ed3 1~65535 \u9ed8\u8ba4240 \u5355\u4f4ds \u58f0\u5149\u62a5\u8b66\u5668 duty_cycle \u95ea\u706f\u5360\u7a7a\u2f50 1~100 \u9ed8\u8ba450 \u503c\u8d8a\u5c0f\uff0c\u7ea2\u706f\u6301\u7eed\u65f6\u95f4\u7ea6\u77ed \u58f0\u5149\u62a5\u8b66\u5668 siren_level \u58f0\u2fb3\u62a5\u8b66\u7b49\u7ea7 0~3 \u2f51\u2f31\u67b6 onoff 1:\u8868\u660e\u662f\u5173\u673a 2:\u8868\u660e\u662f\u5f85\u673a 3:\u8868\u660e\u662f\u667a\u80fd\u6a21\u5f0f\u5b9a\u65f61\u2f29\u65f6 4:\u8868\u660e\u662f\u667a\u80fd\u6a21\u5f0f\u5b9a\u65f62\u2f29\u65f6 5:\u8868\u660e\u662f \u667a\u80fd\u6a21\u5f0f\u5b9a\u65f63\u2f29\u65f6 6:\u8868\u660e\u662f\u667a\u80fd\u6a21\u5f0f\u5b9a\u65f64\u2f29\u65f6 7:\u8868\u660e\u662f\u6d88\u6bd2\u6a21\u5f0f\u5b9a\u65f630\u5206\u949f 8:\u8868\u660e\u662f\u6d88\u6bd2\u6a21\u5f0f\u5b9a\u65f645\u5206\u949f 9:\u8868\u660e\u662f\u6d88\u6bd2\u6a21\u5f0f\u5b9a\u65f660\u5206\u949f 10:\u8868\u660e\u662f\u70d8\u2f32\u6a21\u5f0f\u5b9a\u65f61\u2f29\u65f6 11:\u8868\u660e\u662f\u70d8\u2f32\u6a21\u5f0f\u5b9a\u65f62\u2f29\u65f6 12:\u8868\u660e\u662f\u70d8\u2f32\u6a21\u5f0f\u5b9a\u65f63\u2f29\u65f6 13:\u8868\u660e\u662f\u70d8\u2f32\u6a21\u5f0f\u5b9a\u65f64\u2f29\u65f6 14:\u8868\u660e\u662f\u9001\u2edb\u6a21\u5f0f\u5b9a\u65f61\u2f29\u65f6 15:\u8868\u660e\u662f\u9001\u2edb\u6a21\u5f0f\u5b9a\u65f62\u2f29\u65f6 16:\u8868\u660e\u662f\u9001\u2edb\u6a21\u5f0f\u5b9a\u65f63\u2f29\u65f6 17:\u8868\u660e\u662f\u9001\u2edb\u6a21\u5f0f\u5b9a\u65f64\u2f29\u65f6 \u2f51\u2f31\u67b6 heating \u52a0\u70ed 0:\u5173\u95ed/1\u5f00\u542f \u7a7a\u2f53\u51c0\u5316\u5668 onoff \u5f00\u5173\u673a on/off \u7a7a\u2f53\u51c0\u5316\u5668 model \u6a21\u5f0f 0:\u2f3f\u52a8\u6a21\u5f0f 1:\u2f83\u52a8\u6a21\u5f0f 2:\u7761\u7720\u6a21\u5f0f 3:\u6781\u901f\u6a21\u5f0f \u7a7a\u2f53\u51c0\u5316\u5668 wind_speed \u2edb\u901f 0:\u2f00\u7ea7 1:\u2f06\u7ea7 2:\u4e09\u7ea7 \u7a7a\u2f53\u51c0\u5316\u5668 anion \u8d1f\u79bb\u2f26 on/off \u7a7a\u2f53\u51c0\u5316\u5668 child_lock \u7ae5\u9501 on/off \u7a7a\u2f53\u51c0\u5316\u5668 work_timing \u5b9a\u65f6\u8fd0\u2f8f 0~12 \u5355\u4f4d\u5c0f\u65f6 0\u4e3a\u5b9a\u65f6\u53d6\u6d88 \u9644\u5f55\u4e8c \u8bbe\u5907\u5bf9\u5e94\u72b6\u6001\u4e0a\u62a5\u503c \u00b6 \u6ca1\u6709\u7279\u6b8a\u8bf4\u660e\uff0c\u8bbe\u5907\u7684\u63a7\u5236\u53c2\u6570\u548c\u4e0a\u62a5\u7684\u53c2\u6570\u662f\u4e00\u81f4\u7684\uff0c\u4f8b\u5982\u5f00\u5173\uff0c\u63a7\u5236\u662f onoff\uff0c\u4e0a\u62a5\u4e5f\u662f onoff \u8bbe\u5907\u540d\u79f0 \u63a7\u5236\u53c2\u6570 \u63a7\u5236\u503c \u8c03\u5149\u706f lumin \u4eae\u5ea6:0~100 \u5f69\u706f hue \u2f8a\u76f8:0~100 \u5f69\u706f saturate \u9971\u548c\u5ea6:0~100 \u5f69\u706f lumin \u4eae\u5ea6:0~100 \u667e\u2f90\u673a motor_pos \u5f53\u524d\u7535\u673a\u4f4d\u7f6e\u4f4d\u7f6e top:\u9876\u90e8 bottom:\u5e95\u90e8 middle:\u4e2d\u95f4 \u2f51\u2f31\u67b6 temp \u6e29\u5ea6 -50~90\u6444\u6c0f\u5ea6 \u2f51\u2f31\u67b6 model_timer \u6a21\u5f0f\u5269\u4f59\u65f6\u95f4 \u7a7a\u2f53\u51c0\u5316\u5668 pm_25 0-500 \u7a7a\u2f53\u51c0\u5316\u5668 run_time \u7d2f\u8ba1\u8fd0\u2f8f\u65f6\u95f4 \u5355\u4f4d\u5c0f\u65f6 \u7a7a\u2f53\u51c0\u5316\u5668 count_down \u5b9a\u65f6\u5012\u8ba1\u65f6 \u5355\u4f4d\u5206\u949f \u7a7a\u2f53\u51c0\u5316\u5668 filter_time \u6ee4\u82af1\u5df2\u4f7f\u2f64\u65f6\u95f4 \u5355\u4f4d\u5206\u949f \u51c0\u2f54\u5668 inTDS \u539f\u2f54TDS(\u6eb6\u89e3\u6027\u56fa\u4f53\u603b\u91cf) \u5355\u4f4dppm \u51c0\u2f54\u5668 outTDS \u51fa\u2f54TDS(\u6eb6\u89e3\u6027\u56fa\u4f53\u603b\u91cf) \u5355\u4f4dppm \u51c0\u2f54\u5668 totalML \u603b\u51c0\u2f54\u91cf \u5355\u4f4dml \u51c0\u2f54\u5668 filter_pct \u6ee4\u82af1\u5bff\u547d \u5355\u4f4d% \u51c0\u2f54\u5668 filter_time \u6ee4\u82af1\u4f7f\u2f64\u65f6\u95f4 \u5355\u4f4d\u5c0f\u65f6 \u51c0\u2f54\u5668 filter2_pct \u6ee4\u82af2\u5bff\u547d \u5355\u4f4d% \u51c0\u2f54\u5668 filter2_time \u6ee4\u82af2\u4f7f\u2f64\u65f6\u95f4 \u5355\u4f4d\u5c0f\u65f6","title":"\u8bbe\u5907\u63a7\u5236\uff0c\u72b6\u6001\u76d1\u542c"},{"location":"Device/status/#_1","text":"","title":"\u8bbe\u5907\u63a7\u5236\uff0c\u72b6\u6001\u76d1\u542c"},{"location":"Device/status/#_2","text":"\u4e00\u822c\u7684 zigbee \u8bbe\u5907\u6211\u4eec\u901a\u8fc7\u4e00\u4e0b\u63a5\u53e3\u8fdb\u884c\u72b6\u6001\u7684\u63a7\u5236\uff0c\u5176\u4ed6\u7279\u6b8a\u7684\u8bbe\u5907\u63a7\u5236\u8bf7\u67e5\u770b**\u7279\u6b8a\u8bbe\u5907\u8bf4\u660e** Android // \u63a7\u5236\u67d0\u4e2a\u8bbe\u5907\u7684\u72b6\u6001 // \u67e5\u770b\u4e0b\u9762\u9644\u5f55\u4e00\u67e5\u770b\u4e0d\u540c\u8bbe\u5907\u5bf9\u5e94\u7684 controlKey \u548c controlValue \u503c DeviceApi . control ( String hostId , String deviceId , String deviceType , String zoneId , String controlKey , String controlValue , IBaseCallback < String > callback )","title":"\u8bbe\u5907\u63a7\u5236"},{"location":"Device/status/#_3","text":"Android // \u4e3b\u52a8\u83b7\u53d6\u8bbe\u5907\u72b6\u6001 // \u83b7\u53d6\u591a\u4e2a\u8bbe\u5907\u72b6\u6001 List < DeviceState . Publish . DeviceInfo > deviceInfoList = new ArrayList <> (); for ( DeviceList . Recv . Device device : mDevices ) { DeviceState . Publish . DeviceInfo info = new DeviceState . Publish . DeviceInfo (); info . setId ( device . getDeviceId ()); info . setDeviceType ( device . getDeviceType ()); info . setZoneId ( device . getZoneId ()); deviceInfoList . add ( info ); } DeviceApi . getStatus ( hostId , deviceInfoList , new MqttCallback < DeviceState . Recv > () { @Override public void onSuccess ( DeviceState . Recv recv , int callBackMark , String errorCode ) { // \u591a\u4e2a\u8bbe\u5907\u7684\u72b6\u6001 recv . getStateList (); } }); // \u83b7\u53d6\u67d0\u4e2a\u8bbe\u5907\u72b6\u6001 DeviceApi . getStatus ( hostId , deviceId , deviceType , zoneId , new MqttCallback < DeviceState . Recv > () { @Override public void onSuccess ( DeviceState . Recv recv , int callBackMark , String errorCode ) { // \u67d0\u4e2a\u8bbe\u5907\u7684\u72b6\u6001 recv . getStateList (). get ( 0 ); } }); // \u72b6\u6001\u76d1\u542c ReportMsgApi . setOnDeviceReport ( new ReportMsgApi . OnDeviceReport () { // ... @Override public void onStatusReport ( DeviceStateRecv recv ) { // \u8bbe\u5907\u72b6\u6001\u4e0a\u62a5 } @Override public void onSensorStatusReport ( DeviceSensorReportRecv recv ) { // \u4f20\u611f\u5668\u72b6\u6001\u4e0a\u62a5 } @Override public void onSensorStatusReport ( DeviceSensorReportRecv recv ) { // \u83b7\u53d6\u591a\u4e2a\u8bbe\u5907\u72b6\u6001, \u5f53\u83b7\u53d6\u4e0d\u540c\u6a21\u5757\u7684\u8bbe\u5907\u72b6\u6001\u65f6\uff0c\u7f51\u5173\u4f1a\u5206\u51e0\u6b21\u4e0a\u62a5\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u7528\u8be5\u63a5\u53e3\u4e86 } });","title":"\u72b6\u6001\u76d1\u542c"},{"location":"Device/status/#_4","text":"\u8bbe\u5907\u540d\u79f0 \u63a7\u5236\u53c2\u6570 \u63a7\u5236\u503c \u5f00\u5173 onoff on/off \u8c03\u5149\u706f onoff on/off 0~100:\u4eae\u5ea6 \u5f69\u706f onoff on/off 0~100:\u4eae\u5ea6 254#254#254(hsl, \u503c\u8303\u56f4\u662f 0 ~ 254), \u6ce8\u610f, \u6700\u540e\u2f00\u4e2a l \u662f\u2f46\u6548\u7684) \u2f8a\u6e29\u706f onoff on/off \u2f8a\u6e29\u706f color_temp \u9ed8\u8ba4\u662f0~500\uff0c\u67d0\u4e9b\u8bbe\u5907\u4f1a\u4e0a\u62a5\u81ea\u5df1\u7684\u8272\u6e29\u8303\u56f4\uff0c\u5df2\u4e0a\u62a5\u7684\u4e3a\u51c6 \u63d2\u5ea7 onoff on/off \u7a97\u5e18\u5f00\u5173 onoff open/close/stop \u7a97\u5e18\u7535\u673a onoff \u8fdb\u5ea60~100 \u7535\u6e90\u63a7\u5236\u5668 onoff on/off \u667e\u2f90\u673a motor \u79fb\u52a8\u7535\u673a\u4f4d\u7f6e rising/falling/stop \u667e\u2f90\u673a lighting \u7167\u660e on/off \u667e\u2f90\u673a heating \u70d8\u2f32 on/off \u667e\u2f90\u673a heating_time \u70d8\u2f32\u65f6\u95f4 1~180(min) \u667e\u2f90\u673a wind \u2edb\u2f32 on/off \u667e\u2f90\u673a wind_time \u2edb\u2f32\u65f6\u95f4 1~180(min) \u667e\u2f90\u673a disinfection \u6d88\u6bd2 on/off \u667e\u2f90\u673a disinfection_time \u6d88\u6bd2\u65f6\u95f4 1~30(min) \u58f0\u5149\u62a5\u8b66\u5668 onoff on: \u6253\u5f00\u9ed8\u8ba4\u62a5\u8b66\u6a21\u5f0f off: \u5173\u95ed\u62a5\u8b66 strobe: \u95ea\u706f\u62a5\u8b66 siren: \u58f0\u2fb3\u62a5\u8b66 strobe-siren:\u58f0\u5149\u62a5\u8b66 door:\u7834\u2ed4\u62a5\u8b66 fire:\u2f55\u8b66 sos:sos\u7d27\u6025\u62a5\u8b66 leak:\u6f0f\u2f54\u62a5\u8b66 gas:\u70df\u96fe\u62a5\u8b66 \u58f0\u5149\u62a5\u8b66\u5668 warn_mode \u62a5\u8b66\u6a21\u5f0f strobe:\u95ea\u706f\u62a5\u8b66 siren:\u58f0\u2fb3\u62a5\u8b66 strobe-siren:\u58f0\u5149\u62a5\u8b66 \u58f0\u5149\u62a5\u8b66\u5668 duration \u62a5\u8b66\u6301\u7eed\u65f6\u2ed3 1~65535 \u9ed8\u8ba4240 \u5355\u4f4ds \u58f0\u5149\u62a5\u8b66\u5668 duty_cycle \u95ea\u706f\u5360\u7a7a\u2f50 1~100 \u9ed8\u8ba450 \u503c\u8d8a\u5c0f\uff0c\u7ea2\u706f\u6301\u7eed\u65f6\u95f4\u7ea6\u77ed \u58f0\u5149\u62a5\u8b66\u5668 siren_level \u58f0\u2fb3\u62a5\u8b66\u7b49\u7ea7 0~3 \u2f51\u2f31\u67b6 onoff 1:\u8868\u660e\u662f\u5173\u673a 2:\u8868\u660e\u662f\u5f85\u673a 3:\u8868\u660e\u662f\u667a\u80fd\u6a21\u5f0f\u5b9a\u65f61\u2f29\u65f6 4:\u8868\u660e\u662f\u667a\u80fd\u6a21\u5f0f\u5b9a\u65f62\u2f29\u65f6 5:\u8868\u660e\u662f \u667a\u80fd\u6a21\u5f0f\u5b9a\u65f63\u2f29\u65f6 6:\u8868\u660e\u662f\u667a\u80fd\u6a21\u5f0f\u5b9a\u65f64\u2f29\u65f6 7:\u8868\u660e\u662f\u6d88\u6bd2\u6a21\u5f0f\u5b9a\u65f630\u5206\u949f 8:\u8868\u660e\u662f\u6d88\u6bd2\u6a21\u5f0f\u5b9a\u65f645\u5206\u949f 9:\u8868\u660e\u662f\u6d88\u6bd2\u6a21\u5f0f\u5b9a\u65f660\u5206\u949f 10:\u8868\u660e\u662f\u70d8\u2f32\u6a21\u5f0f\u5b9a\u65f61\u2f29\u65f6 11:\u8868\u660e\u662f\u70d8\u2f32\u6a21\u5f0f\u5b9a\u65f62\u2f29\u65f6 12:\u8868\u660e\u662f\u70d8\u2f32\u6a21\u5f0f\u5b9a\u65f63\u2f29\u65f6 13:\u8868\u660e\u662f\u70d8\u2f32\u6a21\u5f0f\u5b9a\u65f64\u2f29\u65f6 14:\u8868\u660e\u662f\u9001\u2edb\u6a21\u5f0f\u5b9a\u65f61\u2f29\u65f6 15:\u8868\u660e\u662f\u9001\u2edb\u6a21\u5f0f\u5b9a\u65f62\u2f29\u65f6 16:\u8868\u660e\u662f\u9001\u2edb\u6a21\u5f0f\u5b9a\u65f63\u2f29\u65f6 17:\u8868\u660e\u662f\u9001\u2edb\u6a21\u5f0f\u5b9a\u65f64\u2f29\u65f6 \u2f51\u2f31\u67b6 heating \u52a0\u70ed 0:\u5173\u95ed/1\u5f00\u542f \u7a7a\u2f53\u51c0\u5316\u5668 onoff \u5f00\u5173\u673a on/off \u7a7a\u2f53\u51c0\u5316\u5668 model \u6a21\u5f0f 0:\u2f3f\u52a8\u6a21\u5f0f 1:\u2f83\u52a8\u6a21\u5f0f 2:\u7761\u7720\u6a21\u5f0f 3:\u6781\u901f\u6a21\u5f0f \u7a7a\u2f53\u51c0\u5316\u5668 wind_speed \u2edb\u901f 0:\u2f00\u7ea7 1:\u2f06\u7ea7 2:\u4e09\u7ea7 \u7a7a\u2f53\u51c0\u5316\u5668 anion \u8d1f\u79bb\u2f26 on/off \u7a7a\u2f53\u51c0\u5316\u5668 child_lock \u7ae5\u9501 on/off \u7a7a\u2f53\u51c0\u5316\u5668 work_timing \u5b9a\u65f6\u8fd0\u2f8f 0~12 \u5355\u4f4d\u5c0f\u65f6 0\u4e3a\u5b9a\u65f6\u53d6\u6d88","title":"\u9644\u5f55\u4e00 \u8bbe\u5907\u5bf9\u5e94\u7684\u63a7\u5236\u503c"},{"location":"Device/status/#_5","text":"\u6ca1\u6709\u7279\u6b8a\u8bf4\u660e\uff0c\u8bbe\u5907\u7684\u63a7\u5236\u53c2\u6570\u548c\u4e0a\u62a5\u7684\u53c2\u6570\u662f\u4e00\u81f4\u7684\uff0c\u4f8b\u5982\u5f00\u5173\uff0c\u63a7\u5236\u662f onoff\uff0c\u4e0a\u62a5\u4e5f\u662f onoff \u8bbe\u5907\u540d\u79f0 \u63a7\u5236\u53c2\u6570 \u63a7\u5236\u503c \u8c03\u5149\u706f lumin \u4eae\u5ea6:0~100 \u5f69\u706f hue \u2f8a\u76f8:0~100 \u5f69\u706f saturate \u9971\u548c\u5ea6:0~100 \u5f69\u706f lumin \u4eae\u5ea6:0~100 \u667e\u2f90\u673a motor_pos \u5f53\u524d\u7535\u673a\u4f4d\u7f6e\u4f4d\u7f6e top:\u9876\u90e8 bottom:\u5e95\u90e8 middle:\u4e2d\u95f4 \u2f51\u2f31\u67b6 temp \u6e29\u5ea6 -50~90\u6444\u6c0f\u5ea6 \u2f51\u2f31\u67b6 model_timer \u6a21\u5f0f\u5269\u4f59\u65f6\u95f4 \u7a7a\u2f53\u51c0\u5316\u5668 pm_25 0-500 \u7a7a\u2f53\u51c0\u5316\u5668 run_time \u7d2f\u8ba1\u8fd0\u2f8f\u65f6\u95f4 \u5355\u4f4d\u5c0f\u65f6 \u7a7a\u2f53\u51c0\u5316\u5668 count_down \u5b9a\u65f6\u5012\u8ba1\u65f6 \u5355\u4f4d\u5206\u949f \u7a7a\u2f53\u51c0\u5316\u5668 filter_time \u6ee4\u82af1\u5df2\u4f7f\u2f64\u65f6\u95f4 \u5355\u4f4d\u5206\u949f \u51c0\u2f54\u5668 inTDS \u539f\u2f54TDS(\u6eb6\u89e3\u6027\u56fa\u4f53\u603b\u91cf) \u5355\u4f4dppm \u51c0\u2f54\u5668 outTDS \u51fa\u2f54TDS(\u6eb6\u89e3\u6027\u56fa\u4f53\u603b\u91cf) \u5355\u4f4dppm \u51c0\u2f54\u5668 totalML \u603b\u51c0\u2f54\u91cf \u5355\u4f4dml \u51c0\u2f54\u5668 filter_pct \u6ee4\u82af1\u5bff\u547d \u5355\u4f4d% \u51c0\u2f54\u5668 filter_time \u6ee4\u82af1\u4f7f\u2f64\u65f6\u95f4 \u5355\u4f4d\u5c0f\u65f6 \u51c0\u2f54\u5668 filter2_pct \u6ee4\u82af2\u5bff\u547d \u5355\u4f4d% \u51c0\u2f54\u5668 filter2_time \u6ee4\u82af2\u4f7f\u2f64\u65f6\u95f4 \u5355\u4f4d\u5c0f\u65f6","title":"\u9644\u5f55\u4e8c \u8bbe\u5907\u5bf9\u5e94\u72b6\u6001\u4e0a\u62a5\u503c"},{"location":"Host/lanSearch/","text":"\u5c40\u57df\u7f51\u641c\u7d22\u7f51\u5173 \u00b6 \u7f51\u5173\u652f\u6301\u5728\u5c40\u57df\u7f51\u4e2d\u88ab\u641c\u7d22\u51fa\u6765\uff0c\u4f7f\u7528\u65f6\u9700\u8981\u786e\u4fdd\u624b\u673a\u548c\u7f51\u5173\u5728\u76f8\u540c\u7684\u5c40\u57df\u7f51\u5f53\u4e2d\u3002 \u6ce8\u518c\u641c\u7d22\u4e0a\u62a5\u56de\u8c03 \u00b6 Android ReportMsgApi . setOnHostLanSearchReport ( new ReportMsgApi . OnHostLanSearchReport () { @Override public void search ( UDPFind . Recv host ) { // \u8fd9\u91cc\u4e0a\u62a5\u7684\u662f\u6ca1\u6709\u7ba1\u7406\u5458\u7684\u7f51\u5173 host . getHostIp (); // \u7f51\u5173 ip host . getId (); // \u7f51\u5173 id } @Override public void searchAll ( UDPFind . Recv host ) { // \u8fd9\u91cc\u4e0a\u62a5\u6240\u6709\u80fd\u641c\u7d22\u5230\u7684\u7f51\u5173 host . getHostIp (); // \u7f51\u5173 ip host . getId (); // \u7f51\u5173 id } }); \u53d1\u9001\u641c\u7d22\u7684 UDP \u6d88\u606f \u00b6 Android // \u521d\u59cb\u5316 UDP \u670d\u52a1\uff0c\u5982\u679c\u4e0d\u518d\u4f7f\u7528\u53ef\u4ee5\u8c03\u7528 UdpApi.destroyUdp() \u9500\u6bc1 UdpApi . initUpd (); // \u53d1\u9001\u641c\u7d22\u7684 UDP \u6d88\u606f\uff0c\u53ef\u4ee5\u5b9a\u65f6\u5faa\u73af\u7684\u53d1\u9001 // true \u641c\u7d22\u5168\u90e8\u7f51\u5173\uff0cfalse \u641c\u7d22\u6ca1\u6709\u7ba1\u7406\u5458\u7684\u7f51\u5173 HostApi . sendSearchLanHost ( true );","title":"\u5c40\u57df\u7f51\u641c\u7d22\u7f51\u5173"},{"location":"Host/lanSearch/#_1","text":"\u7f51\u5173\u652f\u6301\u5728\u5c40\u57df\u7f51\u4e2d\u88ab\u641c\u7d22\u51fa\u6765\uff0c\u4f7f\u7528\u65f6\u9700\u8981\u786e\u4fdd\u624b\u673a\u548c\u7f51\u5173\u5728\u76f8\u540c\u7684\u5c40\u57df\u7f51\u5f53\u4e2d\u3002","title":"\u5c40\u57df\u7f51\u641c\u7d22\u7f51\u5173"},{"location":"Host/lanSearch/#_2","text":"Android ReportMsgApi . setOnHostLanSearchReport ( new ReportMsgApi . OnHostLanSearchReport () { @Override public void search ( UDPFind . Recv host ) { // \u8fd9\u91cc\u4e0a\u62a5\u7684\u662f\u6ca1\u6709\u7ba1\u7406\u5458\u7684\u7f51\u5173 host . getHostIp (); // \u7f51\u5173 ip host . getId (); // \u7f51\u5173 id } @Override public void searchAll ( UDPFind . Recv host ) { // \u8fd9\u91cc\u4e0a\u62a5\u6240\u6709\u80fd\u641c\u7d22\u5230\u7684\u7f51\u5173 host . getHostIp (); // \u7f51\u5173 ip host . getId (); // \u7f51\u5173 id } });","title":"\u6ce8\u518c\u641c\u7d22\u4e0a\u62a5\u56de\u8c03"},{"location":"Host/lanSearch/#udp","text":"Android // \u521d\u59cb\u5316 UDP \u670d\u52a1\uff0c\u5982\u679c\u4e0d\u518d\u4f7f\u7528\u53ef\u4ee5\u8c03\u7528 UdpApi.destroyUdp() \u9500\u6bc1 UdpApi . initUpd (); // \u53d1\u9001\u641c\u7d22\u7684 UDP \u6d88\u606f\uff0c\u53ef\u4ee5\u5b9a\u65f6\u5faa\u73af\u7684\u53d1\u9001 // true \u641c\u7d22\u5168\u90e8\u7f51\u5173\uff0cfalse \u641c\u7d22\u6ca1\u6709\u7ba1\u7406\u5458\u7684\u7f51\u5173 HostApi . sendSearchLanHost ( true );","title":"\u53d1\u9001\u641c\u7d22\u7684 UDP \u6d88\u606f"},{"location":"Host/registerloginuser/","text":"\u6ce8\u518c\u3001\u767b\u5f55\u3001\u7528\u6237\u7ba1\u7406 \u00b6 \u6982\u8ff0 \u00b6 \u7528\u6237\u7ba1\u7406\u662f\u7f51\u5173\u91cd\u8981\u7684\u529f\u80fd\u4e4b\u4e00\u3002 \u5982\u679c\u5f53\u524d\u7684\u7528\u6237 id \u5728\u7f51\u5173\u4e2d\u5e76\u6ca1\u6709\u8bb0\u5f55\u7684\u60c5\u51b5\uff0c\u5c31\u9700\u8981\u8fdb\u6ce8\u518c\u7684\u6b65\u9aa4\u3002\u8fd9\u91cc\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u662f\u7f51\u5173\u4e2d\u6ca1\u6709\u7ba1\u7406\u5458\uff0c\u6b64\u65f6\u6ce8\u518c\u7684\u8bdd\uff0c\u5f53\u524d\u6ce8\u518c\u7684\u7528\u6237 id \u5373\u4f1a\u6210\u4e3a\u7f51\u5173\u7684\u7ba1\u7406\u5458\uff1b\u4e8c\u662f\u7f51\u5173\u5df2\u7ecf\u6709\u7ba1\u7406\u5458\uff0c\u5f53\u524d\u6ce8\u518c\u7684\u7528\u6237 id \u6210\u4e3a\u666e\u901a\u7528\u6237\uff0c\u8fd9\u4e2a\u6ce8\u518c\u7684\u8bf7\u6c42\u9700\u8981\u7ba1\u7406\u5458\u53bb\u6388\u6743\u3002\u901a\u8fc7\u6ce8\u518c\u548c\u767b\u5f55\u7684\u63a5\u53e3\u90fd\u80fd\u77e5\u9053\u5f53\u524d\u7528\u6237 id \u662f\u5426\u5df2\u6ce8\u518c\u3001\u662f\u5426\u5df2\u88ab\u6388\u6743\u3002 \u6ce8\u518c \u00b6 Android HostApi . register ( hostId , \"123456\" , new IBaseCallback < HostRegister . Recv > () { @Override public void onSuccess ( HostRegister . Recv recv , int callBackMark , String errorCode ) { if ( \"10017\" . equals ( errorCode )) { // \u7b49\u5f85\u7f51\u5173\u7ba1\u7406\u5458\u540c\u610f\" } else if ( \"10001\" . equals ( errorCode )) { String sspen = recv . getSspen (); if ( \"1\" . equals ( sspen )) { // \u5df2\u6ce8\u518c\u7f51\u5173, \u5e76\u4e14\u5df2\u6388\u6743 } else { // \u5df2\u6ce8\u518c\u7f51\u5173, \u4f46\u7ba1\u7406\u5458\u672a\u6388\u6743 } } else { // \u6ce8\u518c\u7f51\u5173\u6210\u529f } } @Override public void onFailure ( int callBackMark , String errorCode ) { if ( \"10026\" . equals ( errorCode )) { // \u7f51\u5173\u6807\u8bc6\u9519\u8bef } else { // \u6ce8\u518c\u7f51\u5173\u5931\u8d25 } } }); \u767b\u5f55 \u00b6 Android // \u767b\u5f55\u7f51\u5173 HostApi . login ( hostId , \"123456\" , new IBaseCallback < HostLogin . Recv > () { @Override public void onSuccess ( HostLogin . Recv recv , int callBackMark , String errorCode ) { VensiMqtt . getInstance (). setMainHost ( recv . getHostId ()); // \u767b\u5f55\u7f51\u5173\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { if ( \"10002\" . equals ( errorCode )) { // \u5bc6\u7801\u9519\u8bef } else if ( \"10025\" . equals ( errorCode )) { // \u7b49\u5f85\u7f51\u5173\u7ba1\u7406\u5458\u540c\u610f } else { // \u6ce8\u518c\u7f51\u5173\u5931\u8d25 } } }); \u7528\u6237\u7ba1\u7406 \u00b6 \u76d1\u542c\u6388\u6743\u7ba1\u7406 \u00b6 \u901a\u8fc7\u4e0b\u9762\u8bbe\u7f6e\u56de\u8c03\uff0c\u53ef\u4ee5\u76d1\u542c\u6388\u6743\u7533\u8bf7\u3001\u6388\u6743\u7ed3\u679c\u3001\u662f\u5426\u6210\u4e3a\u4e86\u7ba1\u7406\u5458 Android ReportMsgApi . setOnHostReport ( new ReportMsgApi . OnHostReport () { // ... @Override public void onAuthorizationResult ( String hostId , HostAuthorizationResult result ) { // \u7f51\u5173\u6388\u6743\u7ed3\u679c switch ( result ){ case HostAuthorizationResult . agree : // \u7ba1\u7406\u5458\u540c\u610f break ; case HostAuthorizationResult . reject : // \u7ba1\u7406\u5458\u62d2\u7edd break ; case HostAuthorizationResult . delete : // \u88ab\u7ba1\u7406\u5458\u5220\u9664 break ; } } @Override public void onApplyAuthorization ( String hostId , String userId ) { // \u6709\u4eba\u7533\u8bf7\u7f51\u5173\u7684\u6743\u9650\uff08\u5f53\u524d\u662f\u7ba1\u7406\u5458\u7684\u60c5\u51b5\u4e0b\u624d\u6709\u4e0a\u62a5\uff09 // \u6b64\u65f6\u53ef\u4ee5\u8df3\u8f6c\u5230\u7528\u6237\u7ba1\u7406\u754c\u9762, \u8c03\u7528 HostApi.getUserList(String hostId) \u83b7\u53d6\u7528\u6237\u5217\u8868 // \u83b7\u53d6\u56de\u6765\u7684 HostUserList.Recv.User \u5bf9\u8c61\u3002 // \u5176\u4e2d userRights \u53c2\u6570\u4e3a\u5f53\u524d\u7528\u6237\u7684\u7ea7\u522b\uff0c\u5982\u679c\u4e3a\u201cadmin\u201d\u5219\u4e3a\u7ba1\u7406\u5458\uff0c\u201cguest\u201d\u5219\u4e3a\u666e\u901a\u7528\u6237 // \u5728\u666e\u901a\u7528\u6237\u4e2d\uff0csspen \u53c2\u6570\u4ee3\u8868\u8be5\u7528\u6237\u662f\u5426\u9700\u8981\u6388\u6743\uff0c\u201c0\u201d\u4e3a\u7b49\u5f85\u6388\u6743\uff0c\u5176\u4ed6\u5219\u4e3a\u5df2\u7ecf\u6388\u6743\u3002 // \u8c03\u7528 HostApi.dealAuthorization(String hostId, String authUserId, boolean isRefuse) \u8fdb\u884c\u6388\u6743\u64cd\u4f5c // \u56e0\u4e3a\u7f51\u5173\u8bbe\u8ba1\u7684\u95ee\u9898\uff0c\u62d2\u7edd\u6388\u6743\u7684\u8bdd\uff0c\u76f4\u63a5\u8c03\u7528\u5220\u9664\u7528\u6237\u63a5\u53e3 HostApi.deleteUser(String hostId, String removeUserId) } @Override public void onTransferAdmin ( String hostId ) { // \u5df2\u6210\u4e3a\u7f51\u5173\u7ba1\u7406\u5458 } }); \u8f6c\u8ba9\u7ba1\u7406\u5458\u6743\u9650 \u00b6 \u7f51\u5173\u7ba1\u7406\u5458\u53ef\u4ee5\u8f6c\u8ba9\u7ba1\u7406\u5458\u6743\u9650\u7ed9\u7f51\u5173\u4e2d\u5176\u4ed6\u666e\u901a\u7528\u6237 Android // \u5176\u4e2d deleteSelf \u53c2\u6570\u5982\u679c\u4e3a true \u6d4b\u8bd5\u628a\u81ea\u5df1\u79fb\u9664\u53bb\u7f51\u5173\uff0cfalse \u5219\u4fdd\u7559\u5728\u7f51\u5173\u4e2d\u3002 HostApi . transfer ( String hostId , String toUserId , boolean deleteSelf )","title":"\u6ce8\u518c\u3001\u767b\u5f55\u3001\u7528\u6237\u7ba1\u7406"},{"location":"Host/registerloginuser/#_1","text":"","title":"\u6ce8\u518c\u3001\u767b\u5f55\u3001\u7528\u6237\u7ba1\u7406"},{"location":"Host/registerloginuser/#_2","text":"\u7528\u6237\u7ba1\u7406\u662f\u7f51\u5173\u91cd\u8981\u7684\u529f\u80fd\u4e4b\u4e00\u3002 \u5982\u679c\u5f53\u524d\u7684\u7528\u6237 id \u5728\u7f51\u5173\u4e2d\u5e76\u6ca1\u6709\u8bb0\u5f55\u7684\u60c5\u51b5\uff0c\u5c31\u9700\u8981\u8fdb\u6ce8\u518c\u7684\u6b65\u9aa4\u3002\u8fd9\u91cc\u6709\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u662f\u7f51\u5173\u4e2d\u6ca1\u6709\u7ba1\u7406\u5458\uff0c\u6b64\u65f6\u6ce8\u518c\u7684\u8bdd\uff0c\u5f53\u524d\u6ce8\u518c\u7684\u7528\u6237 id \u5373\u4f1a\u6210\u4e3a\u7f51\u5173\u7684\u7ba1\u7406\u5458\uff1b\u4e8c\u662f\u7f51\u5173\u5df2\u7ecf\u6709\u7ba1\u7406\u5458\uff0c\u5f53\u524d\u6ce8\u518c\u7684\u7528\u6237 id \u6210\u4e3a\u666e\u901a\u7528\u6237\uff0c\u8fd9\u4e2a\u6ce8\u518c\u7684\u8bf7\u6c42\u9700\u8981\u7ba1\u7406\u5458\u53bb\u6388\u6743\u3002\u901a\u8fc7\u6ce8\u518c\u548c\u767b\u5f55\u7684\u63a5\u53e3\u90fd\u80fd\u77e5\u9053\u5f53\u524d\u7528\u6237 id \u662f\u5426\u5df2\u6ce8\u518c\u3001\u662f\u5426\u5df2\u88ab\u6388\u6743\u3002","title":"\u6982\u8ff0"},{"location":"Host/registerloginuser/#_3","text":"Android HostApi . register ( hostId , \"123456\" , new IBaseCallback < HostRegister . Recv > () { @Override public void onSuccess ( HostRegister . Recv recv , int callBackMark , String errorCode ) { if ( \"10017\" . equals ( errorCode )) { // \u7b49\u5f85\u7f51\u5173\u7ba1\u7406\u5458\u540c\u610f\" } else if ( \"10001\" . equals ( errorCode )) { String sspen = recv . getSspen (); if ( \"1\" . equals ( sspen )) { // \u5df2\u6ce8\u518c\u7f51\u5173, \u5e76\u4e14\u5df2\u6388\u6743 } else { // \u5df2\u6ce8\u518c\u7f51\u5173, \u4f46\u7ba1\u7406\u5458\u672a\u6388\u6743 } } else { // \u6ce8\u518c\u7f51\u5173\u6210\u529f } } @Override public void onFailure ( int callBackMark , String errorCode ) { if ( \"10026\" . equals ( errorCode )) { // \u7f51\u5173\u6807\u8bc6\u9519\u8bef } else { // \u6ce8\u518c\u7f51\u5173\u5931\u8d25 } } });","title":"\u6ce8\u518c"},{"location":"Host/registerloginuser/#_4","text":"Android // \u767b\u5f55\u7f51\u5173 HostApi . login ( hostId , \"123456\" , new IBaseCallback < HostLogin . Recv > () { @Override public void onSuccess ( HostLogin . Recv recv , int callBackMark , String errorCode ) { VensiMqtt . getInstance (). setMainHost ( recv . getHostId ()); // \u767b\u5f55\u7f51\u5173\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { if ( \"10002\" . equals ( errorCode )) { // \u5bc6\u7801\u9519\u8bef } else if ( \"10025\" . equals ( errorCode )) { // \u7b49\u5f85\u7f51\u5173\u7ba1\u7406\u5458\u540c\u610f } else { // \u6ce8\u518c\u7f51\u5173\u5931\u8d25 } } });","title":"\u767b\u5f55"},{"location":"Host/registerloginuser/#_5","text":"","title":"\u7528\u6237\u7ba1\u7406"},{"location":"Host/registerloginuser/#_6","text":"\u901a\u8fc7\u4e0b\u9762\u8bbe\u7f6e\u56de\u8c03\uff0c\u53ef\u4ee5\u76d1\u542c\u6388\u6743\u7533\u8bf7\u3001\u6388\u6743\u7ed3\u679c\u3001\u662f\u5426\u6210\u4e3a\u4e86\u7ba1\u7406\u5458 Android ReportMsgApi . setOnHostReport ( new ReportMsgApi . OnHostReport () { // ... @Override public void onAuthorizationResult ( String hostId , HostAuthorizationResult result ) { // \u7f51\u5173\u6388\u6743\u7ed3\u679c switch ( result ){ case HostAuthorizationResult . agree : // \u7ba1\u7406\u5458\u540c\u610f break ; case HostAuthorizationResult . reject : // \u7ba1\u7406\u5458\u62d2\u7edd break ; case HostAuthorizationResult . delete : // \u88ab\u7ba1\u7406\u5458\u5220\u9664 break ; } } @Override public void onApplyAuthorization ( String hostId , String userId ) { // \u6709\u4eba\u7533\u8bf7\u7f51\u5173\u7684\u6743\u9650\uff08\u5f53\u524d\u662f\u7ba1\u7406\u5458\u7684\u60c5\u51b5\u4e0b\u624d\u6709\u4e0a\u62a5\uff09 // \u6b64\u65f6\u53ef\u4ee5\u8df3\u8f6c\u5230\u7528\u6237\u7ba1\u7406\u754c\u9762, \u8c03\u7528 HostApi.getUserList(String hostId) \u83b7\u53d6\u7528\u6237\u5217\u8868 // \u83b7\u53d6\u56de\u6765\u7684 HostUserList.Recv.User \u5bf9\u8c61\u3002 // \u5176\u4e2d userRights \u53c2\u6570\u4e3a\u5f53\u524d\u7528\u6237\u7684\u7ea7\u522b\uff0c\u5982\u679c\u4e3a\u201cadmin\u201d\u5219\u4e3a\u7ba1\u7406\u5458\uff0c\u201cguest\u201d\u5219\u4e3a\u666e\u901a\u7528\u6237 // \u5728\u666e\u901a\u7528\u6237\u4e2d\uff0csspen \u53c2\u6570\u4ee3\u8868\u8be5\u7528\u6237\u662f\u5426\u9700\u8981\u6388\u6743\uff0c\u201c0\u201d\u4e3a\u7b49\u5f85\u6388\u6743\uff0c\u5176\u4ed6\u5219\u4e3a\u5df2\u7ecf\u6388\u6743\u3002 // \u8c03\u7528 HostApi.dealAuthorization(String hostId, String authUserId, boolean isRefuse) \u8fdb\u884c\u6388\u6743\u64cd\u4f5c // \u56e0\u4e3a\u7f51\u5173\u8bbe\u8ba1\u7684\u95ee\u9898\uff0c\u62d2\u7edd\u6388\u6743\u7684\u8bdd\uff0c\u76f4\u63a5\u8c03\u7528\u5220\u9664\u7528\u6237\u63a5\u53e3 HostApi.deleteUser(String hostId, String removeUserId) } @Override public void onTransferAdmin ( String hostId ) { // \u5df2\u6210\u4e3a\u7f51\u5173\u7ba1\u7406\u5458 } });","title":"\u76d1\u542c\u6388\u6743\u7ba1\u7406"},{"location":"Host/registerloginuser/#_7","text":"\u7f51\u5173\u7ba1\u7406\u5458\u53ef\u4ee5\u8f6c\u8ba9\u7ba1\u7406\u5458\u6743\u9650\u7ed9\u7f51\u5173\u4e2d\u5176\u4ed6\u666e\u901a\u7528\u6237 Android // \u5176\u4e2d deleteSelf \u53c2\u6570\u5982\u679c\u4e3a true \u6d4b\u8bd5\u628a\u81ea\u5df1\u79fb\u9664\u53bb\u7f51\u5173\uff0cfalse \u5219\u4fdd\u7559\u5728\u7f51\u5173\u4e2d\u3002 HostApi . transfer ( String hostId , String toUserId , boolean deleteSelf )","title":"\u8f6c\u8ba9\u7ba1\u7406\u5458\u6743\u9650"},{"location":"Host/update/","text":"\u7f51\u5173\u56fa\u4ef6\u5347\u7ea7 \u00b6 \u7f51\u5173\u5728\u80fd\u591f\u8fde\u63a5\u5916\u7f51\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8fdb\u884c\u56fa\u4ef6\u7684\u5347\u7ea7\u3002 \u83b7\u53d6\u7248\u672c \u00b6 Android HostApi . getVersion ( hostId , new MqttCallback < HostVersion . Recv > () { @Override public void onSuccess ( HostVersion . Recv recv , int callBackMark , String errorCode ) { // \u5f53\u524d\u7248\u672c recv . getCurrentVersion () // \u6700\u65b0\u7248\u672c recv . getNewVersion () } }); \u5347\u7ea7\u7248\u672c \u00b6 Android HostApi . upgrade ( hostId , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u8bf7\u6c42\u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u8bf7\u6c42\u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u5931\u8d25 } }); \u83b7\u53d6\uff08\u76d1\u542c\uff09\u5347\u7ea7\u8fdb\u5ea6 \u00b6 Android // \u83b7\u53d6\u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u8fdb\u5ea6 HostApi . getUpgradeProgress ( hostId , new MqttCallback < HostUpdateProgressRecv > () { @Override public void onSuccess ( HostUpdateProgressRecv hostUpdateProgressRecv , int callBackMark , String errorCode ) { // \u66f4\u65b0\u8fdb\u5ea6 int progress = hostUpdateProgressRecv . getProgress (); // 0~100 \u4e0b\u8f7d\u56fa\u4ef6\u8fdb\u5ea6 // 101 \u5b89\u88c5\u5305\u6821\u9a8c\u9519\u8bef // 102 \u5f00\u59cb\u5b89\u88c5\u7a0b\u5e8f // 103 \u5b89\u88c5\u5931\u8d25 // 104 \u5b89\u88c5\u5b8c\u6210, \u6b63\u5728\u8fdb\u884c\u91cd\u542f // 105 \u91cd\u542f\u5b8c\u6210 // 106 \u66f4\u65b0\u6210\u529f // 107 \u66f4\u65b0\u5931\u8d25 // 108 \u4e0b\u8f7d\u6587\u4ef6\u5931\u8d25 // 109 \u6b63\u5728\u4e0b\u8f7d\u56fa\u4ef6\u5b89\u88c5\u5305 } }); // \u76d1\u542c\u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u8fdb\u5ea6 ReportMsgApi . setOnHostReport ( new ReportMsgApi . OnHostReport () { // ... override fun onUpdateVersion ( hostId : String , progress : Int ) { // \u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u8fdb\u5ea6 } });","title":"\u7f51\u5173\u56fa\u4ef6\u5347\u7ea7"},{"location":"Host/update/#_1","text":"\u7f51\u5173\u5728\u80fd\u591f\u8fde\u63a5\u5916\u7f51\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u8fdb\u884c\u56fa\u4ef6\u7684\u5347\u7ea7\u3002","title":"\u7f51\u5173\u56fa\u4ef6\u5347\u7ea7"},{"location":"Host/update/#_2","text":"Android HostApi . getVersion ( hostId , new MqttCallback < HostVersion . Recv > () { @Override public void onSuccess ( HostVersion . Recv recv , int callBackMark , String errorCode ) { // \u5f53\u524d\u7248\u672c recv . getCurrentVersion () // \u6700\u65b0\u7248\u672c recv . getNewVersion () } });","title":"\u83b7\u53d6\u7248\u672c"},{"location":"Host/update/#_3","text":"Android HostApi . upgrade ( hostId , new MqttCallback < String > () { @Override public void onSuccess ( String s , int callBackMark , String errorCode ) { // \u8bf7\u6c42\u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u6210\u529f } @Override public void onFailure ( int callBackMark , String errorCode ) { // \u8bf7\u6c42\u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u5931\u8d25 } });","title":"\u5347\u7ea7\u7248\u672c"},{"location":"Host/update/#_4","text":"Android // \u83b7\u53d6\u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u8fdb\u5ea6 HostApi . getUpgradeProgress ( hostId , new MqttCallback < HostUpdateProgressRecv > () { @Override public void onSuccess ( HostUpdateProgressRecv hostUpdateProgressRecv , int callBackMark , String errorCode ) { // \u66f4\u65b0\u8fdb\u5ea6 int progress = hostUpdateProgressRecv . getProgress (); // 0~100 \u4e0b\u8f7d\u56fa\u4ef6\u8fdb\u5ea6 // 101 \u5b89\u88c5\u5305\u6821\u9a8c\u9519\u8bef // 102 \u5f00\u59cb\u5b89\u88c5\u7a0b\u5e8f // 103 \u5b89\u88c5\u5931\u8d25 // 104 \u5b89\u88c5\u5b8c\u6210, \u6b63\u5728\u8fdb\u884c\u91cd\u542f // 105 \u91cd\u542f\u5b8c\u6210 // 106 \u66f4\u65b0\u6210\u529f // 107 \u66f4\u65b0\u5931\u8d25 // 108 \u4e0b\u8f7d\u6587\u4ef6\u5931\u8d25 // 109 \u6b63\u5728\u4e0b\u8f7d\u56fa\u4ef6\u5b89\u88c5\u5305 } }); // \u76d1\u542c\u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u8fdb\u5ea6 ReportMsgApi . setOnHostReport ( new ReportMsgApi . OnHostReport () { // ... override fun onUpdateVersion ( hostId : String , progress : Int ) { // \u7f51\u5173\u66f4\u65b0\u56fa\u4ef6\u8fdb\u5ea6 } });","title":"\u83b7\u53d6\uff08\u76d1\u542c\uff09\u5347\u7ea7\u8fdb\u5ea6"},{"location":"iOS/iOS/","text":"iOS SDK \u5feb\u901f\u63a5\u5165 \u00b6 \u5bfc\u5165\u5e93 \u00b6 CocoaPods \u5bfc\u5165 \u00b6 \u5728 podfile \u52a0\u5165 pod 'VensiMqtt_iOS', :path => '../../SDK' \u7136\u540e\u6267\u884c pod install path \u5c31\u662f sdk \u5728\u672c\u5730\u7684\u8def\u5f84 \u624b\u52a8\u5bfc\u5165 \u00b6 \u76f4\u63a5\u5c06 VensiMqtt.framework, VDeviceModelType.framework \u62d6\u5165\u9879\u76ee\uff0c\u7136\u540e\u518d\u5bfc\u5165 MQTTClient, YYModel, CocoaAsyncSocket \u7b2c\u4e09\u65b9\u5e93\u3002 \u6ce8\u610f\uff1adyld: Library not loaded \u624b\u52a8\u5bfc\u5165\u65f6\uff0c\u8981\u5728 General -> Embedded Binaries \u5bfc\u5165 VensiMqtt.framework, VDeviceModelType.framework\uff0c\u4e0d\u7136\u8fd0\u884c\u5c31\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u5d29\u6e83\u65e5\u5fd7\u3002 dyld: Library not loaded: @rpath/VensiMqtt.framework/VensiMqtt.... \u9879\u76ee\u914d\u7f6e \u00b6 Info.plist \u8bbe\u7f6e \u00b6 <key> NSLocalNetworkUsageDescription </key> <string> \u83b7\u53d6\u5c40\u57df\u7f51\u6743\u9650 </string> <key> NSAppTransportSecurity </key> <dict> <key> NSAllowsArbitraryLoads </key> <true/> </dict> NSAppTransportSecurity: NSAllowsArbitraryLoads: true: \u5141\u8bb8\u8fdb\u884c http \u7f51\u7edc\u8bf7\u6c42 NSLocalNetworkUsageDescription: \u5c40\u57df\u7f51\u6743\u9650 \u4f7f\u7528\u793a\u4f8b \u00b6 \u4ee5\u4e0b\u793a\u4f8b\u4f7f\u7528 Swift \u521d\u59cb\u5316 import VensiMqtt import AFNetworking // \u516c\u53f8\u6807\u8bc6 \u9700\u8981\u5411\u672c\u516c\u53f8\u7533\u8bf7 VensiMqtt . managerd (). company = \"xxx\" // \u624b\u673a\u578b\u53f7 VensiMqtt . managerd (). os = \"iPhone 12\" // \u662f\u5426\u6253\u5370\u4fe1\u606f VensiMqtt . managerd (). logLevel = . on // \u76d1\u542cmqtt\u8fde\u63a5\u72b6\u6001 VReportMsgApi . shared (). delegate = self // \u8d26\u53f7(\u552f\u4e00id), \u53ef\u7528 UUID.init().uuidString, \u624b\u673a\u53f7\uff0c\u6216\u8005\u5176\u4ed6\u552f\u4e00\u7801. // \u4e0d\u8fc7\u8981\u6ce8\u610f, \u8d26\u53f7id\u957f\u5ea6 6 ~ 32\uff0c\u5e76\u4e14\u53ea\u80fd\u7531\u5b57\u6bcd\u548c\u6570\u5b57\u7ec4\u6210 // \u5982\u679c\u7528uuid\uff0c\u9700\u8981\u53bb\u6389\u6a2a\u6760 VensiMqtt . managerd (). account = \"\u552f\u4e00id\" // \u8fde\u63a5mqtt let config = VMqttConfig () config . host = \"127.0.0.1\" config . port = 1883 VensiMqtt . managerd (). connectServer ( with : config ) /// \u76d1\u542c\u7f51\u7edc\u53d8\u5316 /// \u5982\u679c\u53ea\u8d70\u4e91\u7aef\uff0c\u6216\u8005\u60f3\u81ea\u5df1\u53bb\u7ba1\u7406udp\u5c40\u57df\u7f51\u53d1\u73b0\u7f51\u5173\u7b49\u7b49\uff0c\u5c31\u4e0d\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u81ea\u884c\u53bb\u7ba1\u7406\u5c31\u884c // \u521d\u59cb\u5316\u76d1\u542c let networkReachabilityManager = AFNetworkReachabilityManager . shared () // \u76d1\u542c\u56de\u8c03 self . networkReachabilityManager ?. setReachabilityStatusChange ({ [ unowned self ] ( status ) in switch status { case . notReachable : VUdpApi . monitorNetwork ( withNetworkType : . noNetwork ) case . reachableViaWWAN : VUdpApi . monitorNetwork ( withNetworkType : . cellular ) case . reachableViaWiFi : VUdpApi . monitorNetwork ( withNetworkType : . LAN ) case . unknown : VUdpApi . monitorNetwork ( withNetworkType : . noNetwork ) @ unknown default : VUdpApi . monitorNetwork ( withNetworkType : . noNetwork ) } }) // \u5f00\u59cb\u76d1\u542c networkReachabilityManager . startMonitoring () // \u8bbe\u7f6e\u4e3b\u7f51\u5173 // \u5728\u5df2\u7ecf\u5b58\u5728\u7f51\u5173\u7684\u65f6\u5019\uff0c\u521d\u59cb\u5316\u65f6\u8981\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5185\u90e8\u4f1a\u81ea\u52a8\u6839\u636e\u7f51\u5173id\uff0c\u505a\u4e00\u4e9b\u64cd\u4f5c VensiMqtt . managerd (). setMainHostIdArr ([ \"\u7f51\u5173id\" ]) \u6ce8\u518c\u7f51\u5173 \u8981\u521d\u59cb\u5316\u8fde\u63a5\u6210\u529f\uff0c\u624d\u80fd\u53bb\u8c03\u7528 import VensiMqtt let hostId = \"\u7f51\u5173id\" // \u5982\u9700\u8981\u5207\u6362\u8be5\u7f51\u5173\u4e3a\u4e3b\u7f51\u5173\u65f6\uff0c\u5c31\u9700\u8981\u8c03\u7528\u8be5\u65b9\u6cd5 // \u5982\u679c\u53ea\u662f\u5355\u7eaf\u7684\u6ce8\u518c\uff0c\u53ef\u4e0d\u7528\u5207\u6362 VensiMqtt . managerd (). setMainHostIdArr ([ hostId ]) // \u8c03\u7528\u6ce8\u518c VGatewayApi . register ( withHostId : hostId , password : \"123456\" , name : \"iPhone 12\" ) { ( data ) in if let sspen = data [ \"sspen\" ] as ? String { if sspen == \"1\" { print ( \"\u6ce8\u518c\u6210\u529f\" ) } else { print ( \"\u7b49\u5f85\u5ba1\u6838\" ) } } else { print ( \"\u8fd4\u56de\u53c2\u6570\u6709\u95ee\u9898\" ) } } errorCallback : { ( errorCode ) in print ( \"\u767b\u5f55\u5931\u8d25 \\( errorCode ) \" ) } \u83b7\u53d6\u8bbe\u5907\u5217\u8868 import VensiMqtt // \u8c03\u7528\u83b7\u53d6\u8bbe\u5907\u5217\u8868 VDeviceApi . getDeviceList ( withHostId : \"\u7f51\u5173id\" ) { ( deviceList ) in print ( \"\u83b7\u53d6\u6210\u529f\u8bbe\u5907\u5217\u8868: \\( deviceList ) \" ) } errorCallback : { ( errcode ) in print ( \"\u83b7\u53d6\u5931\u8d25: \\( errcode ) \" ) } \u66f4\u591a\u793a\u4f8b\u8bf7\u770b DEMO","title":"iOS SDK \u96c6\u6210\u6307\u5357"},{"location":"iOS/iOS/#ios-sdk","text":"","title":"iOS SDK \u5feb\u901f\u63a5\u5165"},{"location":"iOS/iOS/#_1","text":"","title":"\u5bfc\u5165\u5e93"},{"location":"iOS/iOS/#cocoapods","text":"\u5728 podfile \u52a0\u5165 pod 'VensiMqtt_iOS', :path => '../../SDK' \u7136\u540e\u6267\u884c pod install path \u5c31\u662f sdk \u5728\u672c\u5730\u7684\u8def\u5f84","title":"CocoaPods \u5bfc\u5165"},{"location":"iOS/iOS/#_2","text":"\u76f4\u63a5\u5c06 VensiMqtt.framework, VDeviceModelType.framework \u62d6\u5165\u9879\u76ee\uff0c\u7136\u540e\u518d\u5bfc\u5165 MQTTClient, YYModel, CocoaAsyncSocket \u7b2c\u4e09\u65b9\u5e93\u3002 \u6ce8\u610f\uff1adyld: Library not loaded \u624b\u52a8\u5bfc\u5165\u65f6\uff0c\u8981\u5728 General -> Embedded Binaries \u5bfc\u5165 VensiMqtt.framework, VDeviceModelType.framework\uff0c\u4e0d\u7136\u8fd0\u884c\u5c31\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u5d29\u6e83\u65e5\u5fd7\u3002 dyld: Library not loaded: @rpath/VensiMqtt.framework/VensiMqtt....","title":"\u624b\u52a8\u5bfc\u5165"},{"location":"iOS/iOS/#_3","text":"","title":"\u9879\u76ee\u914d\u7f6e"},{"location":"iOS/iOS/#infoplist","text":"<key> NSLocalNetworkUsageDescription </key> <string> \u83b7\u53d6\u5c40\u57df\u7f51\u6743\u9650 </string> <key> NSAppTransportSecurity </key> <dict> <key> NSAllowsArbitraryLoads </key> <true/> </dict> NSAppTransportSecurity: NSAllowsArbitraryLoads: true: \u5141\u8bb8\u8fdb\u884c http \u7f51\u7edc\u8bf7\u6c42 NSLocalNetworkUsageDescription: \u5c40\u57df\u7f51\u6743\u9650","title":"Info.plist \u8bbe\u7f6e"},{"location":"iOS/iOS/#_4","text":"\u4ee5\u4e0b\u793a\u4f8b\u4f7f\u7528 Swift \u521d\u59cb\u5316 import VensiMqtt import AFNetworking // \u516c\u53f8\u6807\u8bc6 \u9700\u8981\u5411\u672c\u516c\u53f8\u7533\u8bf7 VensiMqtt . managerd (). company = \"xxx\" // \u624b\u673a\u578b\u53f7 VensiMqtt . managerd (). os = \"iPhone 12\" // \u662f\u5426\u6253\u5370\u4fe1\u606f VensiMqtt . managerd (). logLevel = . on // \u76d1\u542cmqtt\u8fde\u63a5\u72b6\u6001 VReportMsgApi . shared (). delegate = self // \u8d26\u53f7(\u552f\u4e00id), \u53ef\u7528 UUID.init().uuidString, \u624b\u673a\u53f7\uff0c\u6216\u8005\u5176\u4ed6\u552f\u4e00\u7801. // \u4e0d\u8fc7\u8981\u6ce8\u610f, \u8d26\u53f7id\u957f\u5ea6 6 ~ 32\uff0c\u5e76\u4e14\u53ea\u80fd\u7531\u5b57\u6bcd\u548c\u6570\u5b57\u7ec4\u6210 // \u5982\u679c\u7528uuid\uff0c\u9700\u8981\u53bb\u6389\u6a2a\u6760 VensiMqtt . managerd (). account = \"\u552f\u4e00id\" // \u8fde\u63a5mqtt let config = VMqttConfig () config . host = \"127.0.0.1\" config . port = 1883 VensiMqtt . managerd (). connectServer ( with : config ) /// \u76d1\u542c\u7f51\u7edc\u53d8\u5316 /// \u5982\u679c\u53ea\u8d70\u4e91\u7aef\uff0c\u6216\u8005\u60f3\u81ea\u5df1\u53bb\u7ba1\u7406udp\u5c40\u57df\u7f51\u53d1\u73b0\u7f51\u5173\u7b49\u7b49\uff0c\u5c31\u4e0d\u7528\u8fd9\u4e2a\u65b9\u6cd5\uff0c\u81ea\u884c\u53bb\u7ba1\u7406\u5c31\u884c // \u521d\u59cb\u5316\u76d1\u542c let networkReachabilityManager = AFNetworkReachabilityManager . shared () // \u76d1\u542c\u56de\u8c03 self . networkReachabilityManager ?. setReachabilityStatusChange ({ [ unowned self ] ( status ) in switch status { case . notReachable : VUdpApi . monitorNetwork ( withNetworkType : . noNetwork ) case . reachableViaWWAN : VUdpApi . monitorNetwork ( withNetworkType : . cellular ) case . reachableViaWiFi : VUdpApi . monitorNetwork ( withNetworkType : . LAN ) case . unknown : VUdpApi . monitorNetwork ( withNetworkType : . noNetwork ) @ unknown default : VUdpApi . monitorNetwork ( withNetworkType : . noNetwork ) } }) // \u5f00\u59cb\u76d1\u542c networkReachabilityManager . startMonitoring () // \u8bbe\u7f6e\u4e3b\u7f51\u5173 // \u5728\u5df2\u7ecf\u5b58\u5728\u7f51\u5173\u7684\u65f6\u5019\uff0c\u521d\u59cb\u5316\u65f6\u8981\u8bbe\u7f6e\u8be5\u53c2\u6570\uff0c\u5185\u90e8\u4f1a\u81ea\u52a8\u6839\u636e\u7f51\u5173id\uff0c\u505a\u4e00\u4e9b\u64cd\u4f5c VensiMqtt . managerd (). setMainHostIdArr ([ \"\u7f51\u5173id\" ]) \u6ce8\u518c\u7f51\u5173 \u8981\u521d\u59cb\u5316\u8fde\u63a5\u6210\u529f\uff0c\u624d\u80fd\u53bb\u8c03\u7528 import VensiMqtt let hostId = \"\u7f51\u5173id\" // \u5982\u9700\u8981\u5207\u6362\u8be5\u7f51\u5173\u4e3a\u4e3b\u7f51\u5173\u65f6\uff0c\u5c31\u9700\u8981\u8c03\u7528\u8be5\u65b9\u6cd5 // \u5982\u679c\u53ea\u662f\u5355\u7eaf\u7684\u6ce8\u518c\uff0c\u53ef\u4e0d\u7528\u5207\u6362 VensiMqtt . managerd (). setMainHostIdArr ([ hostId ]) // \u8c03\u7528\u6ce8\u518c VGatewayApi . register ( withHostId : hostId , password : \"123456\" , name : \"iPhone 12\" ) { ( data ) in if let sspen = data [ \"sspen\" ] as ? String { if sspen == \"1\" { print ( \"\u6ce8\u518c\u6210\u529f\" ) } else { print ( \"\u7b49\u5f85\u5ba1\u6838\" ) } } else { print ( \"\u8fd4\u56de\u53c2\u6570\u6709\u95ee\u9898\" ) } } errorCallback : { ( errorCode ) in print ( \"\u767b\u5f55\u5931\u8d25 \\( errorCode ) \" ) } \u83b7\u53d6\u8bbe\u5907\u5217\u8868 import VensiMqtt // \u8c03\u7528\u83b7\u53d6\u8bbe\u5907\u5217\u8868 VDeviceApi . getDeviceList ( withHostId : \"\u7f51\u5173id\" ) { ( deviceList ) in print ( \"\u83b7\u53d6\u6210\u529f\u8bbe\u5907\u5217\u8868: \\( deviceList ) \" ) } errorCallback : { ( errcode ) in print ( \"\u83b7\u53d6\u5931\u8d25: \\( errcode ) \" ) } \u66f4\u591a\u793a\u4f8b\u8bf7\u770b DEMO","title":"\u4f7f\u7528\u793a\u4f8b"},{"location":"iOS/iOSAPI/","text":"iOS SDK API \u00b6 API \u6587\u6863","title":"iOS SDK API"},{"location":"iOS/iOSAPI/#ios-sdk-api","text":"API \u6587\u6863","title":"iOS SDK API"},{"location":"iOS/iOSFAQ/","text":"","title":"iOS SDK FAQ"}]}